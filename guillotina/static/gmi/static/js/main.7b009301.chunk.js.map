{"version":3,"sources":["guillo-gmi/lib/rest.js","guillo-gmi/lib/helpers.js","guillo-gmi/lib/client.js","guillo-gmi/contexts/index.js","guillo-gmi/components/modal.js","guillo-gmi/components/input/button.js","guillo-gmi/components/error_zone.js","guillo-gmi/hooks/useInput.js","guillo-gmi/lib/validators.js","guillo-gmi/components/input/input.js","guillo-gmi/components/ui/icon.js","guillo-gmi/components/input/form.js","guillo-gmi/components/input/form_builder.js","guillo-gmi/components/input/password.js","guillo-gmi/components/input/checkbox.js","guillo-gmi/components/input/email.js","guillo-gmi/components/input/select.js","guillo-gmi/components/input/upload.js","guillo-gmi/components/input/textarea.js","guillo-gmi/hooks/useCrudContext.js","guillo-gmi/components/ui/loading.js","guillo-gmi/components/ui/tag.js","guillo-gmi/components/ui/delete.js","guillo-gmi/components/ui/table.js","guillo-gmi/components/ui/notification.js","guillo-gmi/components/fields/editableField.js","guillo-gmi/components/fields/renderField.js","guillo-gmi/components/behaviors/idublincore.js","guillo-gmi/components/panel/addons.js","guillo-gmi/components/panel/behaviors.js","guillo-gmi/lib/utils.js","guillo-gmi/models/sharing.js","guillo-gmi/models/index.js","guillo-gmi/components/item.js","guillo-gmi/components/pagination.js","guillo-gmi/hooks/useLocation.js","guillo-gmi/components/searchLabels.js","guillo-gmi/lib/search.js","guillo-gmi/hooks/useConfig.js","guillo-gmi/components/panel/items.js","guillo-gmi/components/behavior_view.js","guillo-gmi/components/panel/properties.js","guillo-gmi/components/panel/permissions_roleperm.js","guillo-gmi/components/panel/permissions_prinperm.js","guillo-gmi/components/panel/permissions_prinrole.js","guillo-gmi/components/panel/permissions.js","guillo-gmi/components/panel/requester.js","guillo-gmi/components/widgets/tags.js","guillo-gmi/components/context_toolbar.js","guillo-gmi/components/flash.js","guillo-gmi/components/path.js","guillo-gmi/components/notallowed.js","guillo-gmi/components/notfound.js","guillo-gmi/components/tabs.js","guillo-gmi/views/folder.js","guillo-gmi/views/item.js","guillo-gmi/views/application.js","guillo-gmi/views/container.js","guillo-gmi/views/base.js","guillo-gmi/forms/users.js","guillo-gmi/hooks/useRemoteField.js","guillo-gmi/views/users.js","guillo-gmi/forms/base.js","guillo-gmi/views/groups.js","guillo-gmi/hooks/useRegistry.js","guillo-gmi/actions/remove_item.js","guillo-gmi/actions/add_item.js","guillo-gmi/components/behaviors/iattachment.js","guillo-gmi/components/behaviors/imultiattachment.js","guillo-gmi/reducers/guillotina.js","guillo-gmi/components/guillotina.js","guillo-gmi/components/layout.js","guillo-gmi/components/login.js","guillo-gmi/lib/auth.js","App.js","index.js"],"names":["RestClient","url","auth","this","path","data","headers","getHeaders","fetch","authToken","getToken","request","method","body","JSON","stringify","filename","undefined","classnames","classNames","filter","Boolean","join","trim","noop","current","generateUID","prefix","toQueryString","params","Object","keys","map","key","encodeURIComponent","cacheTypes","cacheSchemas","GuillotinaClient","rest","isContainer","get","startsWith","substring","slice","start","pageSize","result","json","container","prepare","getContainerFromPath","query","permissions","Array","isArray","post","replace","delete","cleanPath","create","patch","file","upload","name","res","id","endpoint","groups","getGroups","users","getUsers","Promise","all","gr","usr","endsWith","req","resp","from","Set","extractPermissions","types","status","parts","split","lightFileReader","a","async","resolve","reader","FileReader","readAsArrayBuffer","onloadend","e","fileData","target","type","permission","concat","item","TraversalContext","createContext","Traversal","props","assign","setRouterParam","dispatch","payload","message","flash","action","state","tabs","tabsPermissions","forEach","perm","hasPerm","context","TraversalProvider","children","Provider","value","Modal","isActive","setActive","Portal","usePortal","css","className","onClick","aria-label","Confirm","onCancel","onConfirm","p","Fragment","style","marginTop","Button","loading","disabled","ErrorZone","useInput","onChange","validator","React","useState","hasError","setState","useEffect","ev","onFocus","onBlur","validators","validation","func","applyValidators","REGEX_EMAIL","isEmail","test","notEmpty","length","Input","forwardRef","ref","icon","iconPosition","error","errorZoneClassName","autoComplete","widget","onPressEnter","isSubmitted","required","placeholder","autofocus","errorMessage","push","handlers","uid","mounted","setMounted","useRef","focus","theError","statusClasses","htmlFor","aria-invalid","aria-describedby","Icon","align","addClass","Form","onSubmit","onReset","title","event","preventDefault","formComponents","string","password","boolean","indeterminate","color","backgroundColor","borderColor","inputRef","checked","email","FormBuilder","schema","formData","actionName","exclude","remotes","submitButton","properties","values","initialState","fields","x","includes","element","onUpdate","field","GetTag","Tag","label","displayName","children_","Children","child","cloneElement","i","Select","options","size","classWrap","multiple","resetOnChange","appendDefault","text","cssWrap","index","toString","FileUpload","files","Textarea","rows","initial","isError","response","sate","Ctx","client","console","del","useCrudContext","useContext","useSetState","Loading","onRemove","Delete","Table","idx","Notification","isColor","EditableField","Type","ns","isEdit","setEdit","val","setValue","saveField","refresh","plain","RenderField","Widget","FieldValue","Schema","editable","widgets","description","prepareData","addons","arrayToObject","available","installed","array","reduce","obj","PanelBehaviors","ops","enableBehavior","behavior","disableBehavior","colSpan","static","dynamic","formatDate","str","d","Date","minutes","getMinutes","getDate","getMonth","getFullYear","getHours","base","local","roleperm","prinperm","prinrole","inherit","Sharing","role","principal","ItemModel","_path","splice","_url","type_name","creation_date","modification_date","Permissions","Item","setPath","link","width","smallcss","mediumcss","RItem","search","traversal","model","created","updated","doAction","ItemTitle","actions","Pagination","total","doPaginate","pager","maxPages","Math","ceil","setURLParams","window","history","pathname","clean","to","URLSearchParams","_key","set","useLocation","currentSearchParams","update","prevPath","patchHistoryEvents","checkForUpdates","events","addEventListener","removeEventListener","navigate","useCallback","remove","param","patched","original","apply","arguments","Event","dispatchEvent","location","SearchLabels","SEP","DEFAULT_FIELD","CLEANER","Config","DisabledTypes","PageSize","calculated","addConfig","additional","useConfig","cfg","page","items","PanelItems","setLocation","parseInt","searchParsed","qs","defaultField","lastKey","part","parser","getItems","member","items_count","BehaviorsView","getBehavior","registry","behaviors","__behaviors__","b","Cls","BehaviorNotImplemented","GetBehavior","showProperties","PanelProperties","modifyContent","prop","PermissionRoleperm","setter","roles","operations","setting","selectedOptions","log","random","PermissionPrinperm","PermissionPrinrole","PanelPermissions","reset","setReset","perms","getRole","row","principals","getPrincipals","getPrinroles","AddPermission","currentObj","defaultOptions","getAllPermissions","group","getRoles","v","methods","PanelRequester","doRequest","ace","parse","mode","tabSize","fontFamily","editorProps","$blockScrolling","Infinity","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","prepareAvailable","already","def","TagsWidget","noData","setResult","addItem","marginBottom","CreateButton","getTypes","useClickAway","aria-haspopup","aria-controls","ContextToolbar","ctx","searchText","q","tab","Flash","clearFlash","Path","segments","links","buildPaths","indx","results","NotAllowed","fontSize","NotFound","TabsPanel","currentTab","rightToolbar","setTab","CurrentComp","changeTab","Items","Properties","Behaviors","Requester","FolderCtx","filterTabs","ItemCtx","CreateContainer","ModalAddContainer","isLoading","setLoading","idField","setId","setError","createObject","Addons","setAction","useAsync","getAddons","pathPrefix","addon","installAddon","removeAddon","Registry","UserForm","attr","useRemoteField","setRemote","Users","UsersToolbar","BaseForm","setName","toLowerCase","l","RegExp","charAt","stringToSlug","Groups","GroupToolbar","paths","views","Application","databases","db","Database","containers","Container","UserManager","User","gorups","user_groups","user_roles","updateRemote","username","Group","setRoles","setUsers","req2","user","urole","r","removeUser","GroupManager","Folder","removeItem","cancelAction","getForm","oldData","form","onError","err","forms","content_type","canModify","download","blob","Blob","URL","createObjectURL","document","createElement","href","setAttribute","appendChild","click","parentNode","removeChild","fileKey","setFileKey","setFile","downloadFile","fileName","schemas","fallback","getComponent","defaultComponent","getAction","is_folderish","errorStatus","guillotinaReducer","Guillotina","config","searchPath","useReducer","getClient","getContext","canido","pr","contextData","Main","Action","Layout","onLogout","src","process","alt","height","aria-expanded","data-target","aria-hidden","isLogged","logout","ERRORS","Login","errors","createRef","doLogin","setAccount","login","onLogin","linkState","s","Component","Auth","maxRetry","retryRefresh","base_url","account","getUrl","credentials","storeAuth","localStorage","setItem","token","exp","cleanAuth","expiration","now","getTime","getItem","_getToken","expires","willExpire","refreshToken","isExpired","jwt_decode","App","setLogged","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7b009301.chunk.js","sourcesContent":["\n\nexport class RestClient {\n\n  constructor(url, auth) {\n    this.auth = auth\n    this.url = url\n  }\n\n  async request(path, data, headers) {\n    data = data || {}\n    data.headers = headers || this.auth.getHeaders()\n    return await fetch(`${this.url}${path}`, data)\n  }\n\n  getHeaders() {\n    const authToken  = this.auth.getToken()\n    if (!authToken) return false;\n    return {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + authToken\n    }\n  }\n\n  async post(path, data) {\n    return await this.request(path, {\n      method: 'post',\n      body: JSON.stringify(data)\n    })\n  }\n\n  async get(path) {\n    return await this.request(path, {})\n  }\n\n  async put(path, data) {\n    return await this.request(path, {\n      method: 'put',\n      body: JSON.stringify(data)\n    })\n  }\n\n  async patch(path, data) {\n    return await this.request(path, {\n      method: 'PATCH',\n      body: JSON.stringify(data)\n    })\n  }\n\n  async upload(path, data) {\n\n    const headers = this.auth.getHeaders()\n    delete headers[\"Content-Type\"]\n    headers[\"Content-Type\"] = data[\"content-type\"]\n    headers[\"X-UPLOAD-FILENAME\"] = data.filename\n    headers[\"Content-Encoding\"]= \"base64\"\n    return await this.request(path, {\n      method: 'PATCH',\n      body: data.data\n    }, headers)\n  }\n\n  async delete(path, data=undefined) {\n    return await this.request(path, {\n      method: 'delete',\n      body: JSON.stringify(data)\n    })\n  }\n}\n","export const classnames = classNames => {\n  return classNames\n    .filter(Boolean)\n    .join(\" \")\n    .trim();\n};\n\nexport const noop = () => {};\n\nlet current = 0;\n\nexport const generateUID = prefix => `${prefix || \"id\"}-${current++}`;\n\nexport const toQueryString = params => {\n  return Object.keys(params)\n    .map(key => {\n      return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n    })\n    .join(\"&\");\n};\n\nexport function base64ToArrayBuffer(base64) {\n  const binaryString = window.atob(base64);\n  const binaryLen = binaryString.length;\n  const bytes = new Uint8Array(binaryLen);\n  for (var i = 0; i < binaryLen; i++) {\n    var ascii = binaryString.charCodeAt(i);\n    bytes[i] = ascii;\n  }\n  return bytes;\n}\n\n\nexport function stringToSlug (str) {\n  str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n  str = str.toLowerCase();\n\n  // remove accents, swap ñ for n, etc\n  var from = \"àáäâèéëêìíïîòóöôùúüûñç·/_,:;\";\n  var to   = \"aaaaeeeeiiiioooouuuunc------\";\n  for (var i=0, l=from.length ; i<l ; i++) {\n      str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\n  }\n\n  str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n      .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n      .replace(/-+/g, '-'); // collapse dashes\n\n  return str;\n}\n","import { RestClient } from \"./rest\";\nimport { toQueryString } from \"./helpers\";\n\nlet cacheTypes = {};\nlet cacheSchemas = {};\n\n\nexport class GuillotinaClient {\n  constructor(rest, isContainer) {\n    this.rest = rest;\n    this.isContainer = isContainer;\n  }\n\n  async getContext(path) {\n    switch (path) {\n      case \"/\":\n        return await this.rest.get(\"\");\n      default:\n        if (path.startsWith(\"/\")) {\n          path = path.substring(1);\n        }\n        return await this.rest.get(path);\n    }\n  }\n\n  async get(path) {\n    if (path.startsWith(\"/\")) {\n      path = path.slice(1);\n    }\n    return await this.rest.get(path);\n  }\n\n  async getItems(path, start = 0, pageSize=10) {\n    if (path.startsWith(\"/\")) {\n      path = path.slice(1);\n    }\n    const result = await this.rest.get(\n      `${path}@search?depth=1&b_start=${start}&b_size=${pageSize}`\n    );\n    return await result.json();\n  }\n\n  async search(path, params, container = false, prepare = true, start = 0, pageSize=10) {\n    if (path.startsWith(\"/\")) {\n      path = path.slice(1);\n    }\n    if (container) {\n      path = getContainerFromPath(path);\n    }\n    let query = prepare ? toQueryString(params) : params;\n    const url = `${path}@search?${query}&b_start=${start}&b_size=${pageSize}`;\n    return await this.rest.get(url);\n  }\n\n  async canido(path, permissions) {\n    if (path.startsWith(\"/\")) {\n      path = path.slice(1);\n    }\n    if (Array.isArray(permissions)) {\n      permissions.join(\",\");\n    }\n    const url = `${path}@canido?permissions=${permissions}`;\n    return await this.rest.get(url);\n  }\n\n  async createObject(path, data) {\n    return await this.rest.post(path, data);\n  }\n\n  cleanPath(path) {\n    return path.replace(this.rest.url, \"\");\n  }\n\n  async delete(path, data) {\n    return await this.rest.delete(this.cleanPath(path), data);\n  }\n\n  async create(path, data) {\n    if (path.startsWith(\"/\")) {\n      path = path.substring(1);\n    }\n    return await this.rest.post(path, data);\n  }\n\n  async post(path, data) {\n    return await this.create(path, data);\n  }\n\n  async patch(path, data) {\n    if (path.startsWith(\"/\")) {\n      path = path.substring(1);\n    }\n    return await this.rest.patch(path, data);\n  }\n\n  async upload(path, file) {\n    if (path.startsWith(\"/\")) {\n      path = path.substring(1);\n    }\n    return await this.rest.upload(path, file);\n  }\n\n  async download(path) {\n    if (path.startsWith(\"/\")) {\n      path = path.substring(1);\n    }\n    return await this.rest.get(path);\n  }\n\n  async getTypeSchema(path, name) {\n    if (!cacheSchemas[name]) {\n      let url = getContainerFromPath(path);\n      // todo: handle db case (only addable containers)\n      const res = await this.rest.get(`${url}@types/${name}`);\n      cacheSchemas[name] = await res.json();\n    }\n    return cacheSchemas[name];\n  }\n\n  async getAddons(path) {\n    return await this.rest.get(`${path}@addons`);\n  }\n\n  async installAddon(path, key) {\n    return await this.rest.post(`${path}@addons`, { id: key });\n  }\n\n  async removeAddon(path, key) {\n    return await this.rest.delete(`${path}@addons`, { id: key });\n  }\n\n  async getGroups(path) {\n    const endpoint = `${getContainerFromPath(path)}@groups`;\n    return await this.rest.get(endpoint);\n  }\n\n  async getUsers(path) {\n    const endpoint = `${getContainerFromPath(path)}@users`;\n    return await this.rest.get(endpoint);\n  }\n\n  async getPrincipals(path) {\n    const groups = this.getGroups(path)\n    const users = this.getUsers(path)\n    const [gr, usr] = await Promise.all(groups, users)\n    return {\n      groups: await gr.json(),\n      users: await usr.json()\n    }\n  }\n\n  async getRoles(path) {\n    const endpoint = `${getContainerFromPath(path)}@available-roles`;\n    return await this.rest.get(endpoint);\n  }\n\n  async getAllPermissions(path) {\n    if (!path.endsWith(\"/\")) {\n      path = `${path}/`;\n    }\n    const req = await this.rest.get(path + \"@all_permissions\");\n    const resp = await req.json();\n    const permissions = Array.from(new Set(extractPermissions(resp)));\n    return permissions;\n  }\n\n  async getTypes(path) {\n    if (path.startsWith(\"/\")) {\n      path = path.slice(1);\n    }\n    if (!cacheTypes[path]) {\n      const types = await this.rest.get(path + \"@addable-types\");\n      if (types.status === 401 || types.status === 404) {\n        cacheTypes[path] = [];\n      } else {\n        const res = await types.json();\n        cacheTypes[path] = res;\n      }\n    }\n    return cacheTypes[path];\n  }\n}\n\nexport function getClient(url, auth, isContainer = false) {\n  return new GuillotinaClient(new RestClient(url, auth), isContainer);\n}\n\nexport const getContainerFromPath = path => {\n  if (path.startsWith(\"/\")) {\n    path = path.substring(1);\n  }\n  let parts = path.split(\"/\");\n  return `${parts[0]}/${parts[1]}/`;\n};\n\nexport const lightFileReader = async (file) => {\n  return new Promise((resolve) => {\n    const reader = new FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = e => {\n      const fileData = e.target.result;\n      resolve({\n        filename: file.name,\n        data: fileData,\n        \"content-type\": file.type\n      });\n    };\n  });\n};\n\nconst extractPermissions = data => {\n  let result = [];\n  if (typeof data !== \"object\") {\n  } else if (!Array.isArray(data) && data.permission) {\n    result = result.concat([data.permission]);\n  } else if (!Array.isArray(data)) {\n    Object.keys(data).map(\n      key => (result = result.concat(extractPermissions(data[key])))\n    );\n  } else if (Array.isArray(data)) {\n    data.map(item => (result = result.concat(extractPermissions(item))));\n  }\n  return result;\n};\n","import React from \"react\";\nimport { createContext } from \"react\";\nimport { getContainerFromPath } from \"../lib/client\";\n\nexport const AuthContext = createContext({});\n\nexport const TraversalContext = createContext({});\n\nclass Traversal {\n  constructor(props) {\n    Object.assign(this, props);\n  }\n\n  setPath(path) {\n    // This is like black magic, document it\n    // router interactions are hard\n    this.setRouterParam({ path: path }, true);\n  }\n\n  refresh() {\n    this.dispatch({ type: \"REFRESH\" });\n  }\n\n  get path() {\n    return this.state.path;\n  }\n\n  get pathPrefix() {\n    return this.state.path.slice(1);\n  }\n\n  get context() {\n    return this.state.context;\n  }\n\n  get containerPath() {\n    return getContainerFromPath(this.path);\n  }\n\n  apply(data) {\n    // apply a optimistic update to context\n    this.dispatch({type: \"APPLY\", payload:data})\n  }\n\n  flash(message, type) {\n    this.dispatch({ type: \"SET_FLASH\", payload: { flash: { message, type } } });\n  }\n\n  clearFlash() {\n    this.dispatch({ type: \"CLEAR_FLASH\" });\n  }\n\n  doAction(action, params) {\n    this.dispatch({ type: \"SET_ACTION\", payload: { action, params } });\n  }\n\n  cancelAction() {\n    this.dispatch({ type: \"CLEAR_ACTION\" });\n  }\n\n  hasPerm(permission) {\n    return this.state.permissions[permission] === true;\n  }\n\n  filterTabs(tabs, tabsPermissions) {\n    const result = {};\n    Object.keys(tabs).forEach(item => {\n      const perm = tabsPermissions[item];\n      if (perm && this.hasPerm(perm)) {\n        result[item] = tabs[item];\n      } else if (!perm) {\n        result[item] = tabs[item];\n      }\n    });\n    return result;\n  }\n}\n\nexport function TraversalProvider({ children, ...props }) {\n  return (\n    <TraversalContext.Provider value={new Traversal(props)}>\n      {children}\n    </TraversalContext.Provider>\n  );\n}\n","import React from \"react\";\nimport usePortal from \"react-useportal\";\n\nexport function Modal(props) {\n  const { isActive, setActive, children } = props;\n  const { Portal } = usePortal();\n\n  const css = \"modal \" + (isActive ? \"is-active \" : \"\") + props.className;\n  return (\n    <Portal>\n      <div className={css}>\n        <div className=\"modal-background\" onClick={() => setActive(false)} />\n        <div className=\"modal-content\">\n          <div className=\"box\">{children}</div>\n        </div>\n        <button\n          className=\"modal-close is-large\"\n          aria-label=\"close\"\n          onClick={() => setActive(false)}\n        />\n      </div>\n    </Portal>\n  );\n}\n\nexport function Confirm({ message, onCancel, onConfirm }) {\n  const setActive = p => onCancel();\n  return (\n    <Modal isActive setActive={setActive} className=\"confirm\">\n      <React.Fragment>\n        <h1 className=\"title is-size-5\">{message || \"Are you Sure?\"}</h1>\n        <div className=\"level\" style={{ marginTop: \"50px;\" }}>\n          <div className=\"level-left\"></div>\n          <div className=\"level-right\">\n            <button className=\"button is-danger\" onClick={() => onCancel()}>\n              Cancel\n            </button>\n            &nbsp;&nbsp;\n            <button className=\"button is-success\" onClick={() => onConfirm()}>\n              Confirm\n            </button>\n          </div>\n        </div>\n      </React.Fragment>\n    </Modal>\n  );\n}\n","import React from 'react'\nimport {classnames} from '../../lib/helpers'\n\nconst noop = () => {}\n\nexport const Button = ({\n  children,\n  className = 'is-primary',\n  onClick,\n  type = 'submit',\n  loading = false,\n  disabled = false,\n  ...rest\n}) => {\n\n  let css = [].concat(\n      'button', ...className.split(\" \"),\n  )\n  if (loading) css = css.concat('is-loading')\n  if (disabled) onClick = noop\n\n  return (\n    <p className=\"control\">\n      <button\n        type={type}\n        className={classnames(css)}\n        onClick={onClick}\n        disabled={disabled}\n        {...rest}\n        >\n        {children}\n      </button>\n    </p>\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { classnames } from '../lib/helpers';\n\nconst ErrorZone = ({ children, id, className }) => {\n    return (\n        <p className={classnames(['help is-danger', className])} id={id}>\n            {children}\n        </p>\n    );\n};\n\nErrorZone.propTypes = {\n    children: PropTypes.node,\n    id: PropTypes.string,\n    className: PropTypes.string\n};\n\nexport default ErrorZone;\n","import React from \"react\";\n\nconst applyValidators = (value, validators) => {\n  let validation = Array.isArray(validators) ? validators : [validators];\n  let result = true;\n  validation.forEach(func => {\n    if (func(value) === false) {\n      result = false;\n    }\n  });\n  return result;\n};\n\nconst useInput = (onChange, value, validator) => {\n  let [state, setState] = React.useState({ hasError: false, value: value });\n\n  const onUpdate = ev => {\n    const value = (ev && ev.target) ? ev.target.value : (ev) ? ev : '';\n    setState({ value, hasError: false });\n    if (onChange)\n      onChange(value);\n  };\n\n  const onBlur = ev => {\n    const hasError = applyValidators(state.value, validator) === false;\n    if (hasError) setState({ value: state.value, hasError });\n  };\n\n  const onFocus = ev => {\n    if (state.hasError) {\n      setState({ value: state.value, hasError: false });\n    }\n  };\n\n  React.useEffect(() => {\n      setState({ value, hasError: false })\n   }, [value])\n\n  return {\n    onChange: onUpdate,\n    onFocus,\n    onBlur,\n    state\n  };\n};\n\nexport default useInput;\n","// From github.com/protonmail/proton-shared\n\n/* eslint-disable no-useless-escape */\nexport const REGEX_EMAIL = /(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))/i;\nexport const REGEX_URL = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/;\nexport const REGEX_HEX_COLOR = /^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\\b$/i;\nexport const REGEX_NUMBER = /^\\d+$/;\n\nexport const isEmpty = (value = '') => !value.length;\nexport const maxLength = (value = '', limit = 0) => value.length <= limit;\nexport const minLength = (value = '', limit = 0) => value.length >= limit;\nexport const isEmail = (value = '') => REGEX_EMAIL.test(value);\nexport const isURL = (value = '') => REGEX_URL.test(value);\nexport const isHexColor = (value = '') => REGEX_HEX_COLOR.test(value);\nexport const isNumber = (value = '') => REGEX_NUMBER.test(value);\nexport const notEmpty = (value) => !!value.length\n\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { classnames, generateUID } from \"../../lib/helpers\";\nimport ErrorZone from \"../error_zone\";\nimport useInput from \"../../hooks/useInput\";\nimport { notEmpty } from \"../../lib/validators\";\nimport { useEffect } from \"react\";\n\nconst noop = () => true;\n\n/** @type any */\nexport const Input = React.forwardRef(\n  (\n    {\n      icon,\n      iconPosition = \"has-icons-right\",\n      error,\n      errorZoneClassName,\n      autoComplete = \"off\",\n      className = \"\",\n      widget = \"input\",\n      type = \"text\",\n      onPressEnter,\n      isSubmitted,\n      loading = false,\n      required = false,\n      id,\n      placeholder,\n      value,\n      autofocus = false,\n      onChange,\n      validator = noop,\n      errorMessage,\n      ...rest\n    },\n    ref\n  ) => {\n    if (required) {\n      validator = Array.isArray(validator)\n        ? validator.push(notEmpty)\n        : [validator, notEmpty];\n    }\n\n    const { state, ...handlers } = useInput(onChange, value, validator);\n    const [uid] = useState(generateUID(\"input\"));\n    const [mounted, setMounted] = useState(false);\n    ref = ref || React.useRef();\n\n    useEffect(() => {\n      setMounted(true);\n    }, []);\n\n    useEffect(() => {\n      if (autofocus && !error) {\n        ref.current.focus();\n      }\n    }, [mounted, autofocus, ref, error]);\n\n    const theError = state.hasError ? errorMessage || \"invalid field\" : \"\";\n    const statusClasses = state.hasError ? \"is-danger\" : \"\";\n\n    const cssControl = () => (icon ? [\"control\", iconPosition] : [\"control\"]);\n\n    return (\n      <div className=\"field\">\n        {id && placeholder ? (\n          <label className=\"label\" htmlFor={id}>\n            {placeholder}\n          </label>\n        ) : null}\n        <div className={classnames(cssControl())}>\n          <input\n            className={classnames([widget, className, statusClasses])}\n            aria-invalid={theError}\n            aria-describedby={uid}\n            id={id}\n            ref={ref}\n            type={type}\n            value={state.value}\n            placeholder={placeholder}\n            autoComplete={autoComplete}\n            disabled={loading || rest.disabled}\n            required={required}\n            {...handlers}\n            {...rest}\n          />\n          {icon && icon}\n        </div>\n        <ErrorZone className={errorZoneClassName} id={uid}>\n          {state.hasError ? theError : \"\"}\n        </ErrorZone>\n      </div>\n    );\n  }\n);\n\nInput.propTypes = {\n  icon: PropTypes.node,\n  iconPosition: PropTypes.arrayOf(\n    PropTypes.oneOf([\"has-icons-left\", \"has-icons-right\", \"\"])\n  ),\n  error: PropTypes.string,\n  errorZoneClassName: PropTypes.string,\n  autoComplete: PropTypes.string,\n  autoFocus: PropTypes.bool,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  loading: PropTypes.bool,\n  isSubmitted: PropTypes.bool,\n  id: PropTypes.string,\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  onPressEnter: PropTypes.func,\n  placeholder: PropTypes.string,\n  readOnly: PropTypes.bool,\n  required: PropTypes.bool,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool\n  ])\n};\n","import React from \"react\";\nimport { classnames } from \"../../lib/helpers\";\n\nexport const Icon = ({ icon, className, align }) => {\n  const addClass = className ? className.split(\" \") : [className];\n\n  align = align || \"is-right\";\n\n  return (\n    <span className={classnames([\"icon\", align, ...addClass])}>\n      <i className={icon}></i>\n    </span>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { noop } from '../../lib/helpers';\nimport { classnames } from '../../lib/helpers';\n\n\nexport const Form = ({\n  children,\n  className = '',\n  onSubmit = noop,\n  onReset = noop,\n  autoComplete = 'off',\n  title,\n  error,\n  ...rest }\n) => {\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onSubmit(event);\n    };\n    return (\n      <React.Fragment>\n        {title && <div className=\"level\">\n            <h1 className=\"title is-size-4\">{title}</h1>\n        </div>}\n        {error && <div className=\"notification is-danger\">\n          {error}\n        </div>}\n        <form\n              onSubmit={handleSubmit}\n              onReset={onReset}\n              autoComplete={autoComplete}\n              className={classnames(['form', className])}\n              {...rest}\n          >\n              {children}\n          </form>\n        </React.Fragment>\n    );\n};\n\nForm.propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string,\n    onSubmit: PropTypes.func,\n    onReset: PropTypes.func,\n    autoComplete: PropTypes.string\n};\n\n","import React from \"react\";\nimport { Form } from \"./form\";\nimport { Input } from \"./input\";\nimport { EmailInput } from \"./email\";\nimport { PasswordInput } from \"./password\";\nimport { Button } from \"./button\";\nimport { Checkbox } from \"./checkbox\";\nimport { generateUID } from \"../../lib/helpers\";\n\nconst formComponents = {\n  string: Input,\n  password: PasswordInput,\n  boolean: Checkbox,\n  email: EmailInput\n};\n\nexport function FormBuilder({\n  schema,\n  formData,\n  title,\n  onSubmit,\n  actionName,\n  children,\n  exclude = [],\n  remotes = [],\n  submitButton = true,\n  ...rest\n}) {\n  const ref = React.useRef();\n  const { properties, required } = schema;\n  const values = Object.assign({}, formData || {});\n\n  // build initial state\n  let initialState = {};\n  const fields = Object.keys(properties).filter(x => !exclude.includes(x));\n\n  fields.forEach(element => {\n    initialState[element] = values[element] || undefined;\n  });\n\n  // Register remotes\n  if (!ref.current) {\n    ref.current = {};\n    Object.keys(remotes).forEach(item => (ref.current[item] = remotes[item]));\n  } else {\n    // apply remote changes\n    Object.keys(remotes).forEach(key => {\n      if (JSON.stringify(ref.current[key]) !== JSON.stringify(remotes[key])) {\n        ref.current[key] = remotes[key];\n      }\n    });\n  }\n\n  ref.current = ref.current || {};\n  const onUpdate = field => ev => {\n    ref.current[field] = ev.target ? ev.target.value : ev.value || ev;\n  };\n\n  const GetTag = ({ field }) => {\n    const Tag =\n      formComponents[properties[field].widget || properties[field].type];\n\n    const props = {\n      label: properties[field].title,\n      value: initialState[field],\n      onChange: onUpdate(field),\n      placeholder: properties[field].title || \"\",\n      id: generateUID()\n    };\n\n    if (required.includes(field)) {\n      props.required = true;\n      props.placeholder += \" *\";\n    }\n    Tag.displayName = `${field}Field`;\n    return <Tag {...props} />;\n  };\n\n  const children_ = React.Children.map(children, child =>\n    React.cloneElement(child, { onChange: onUpdate })\n  );\n\n  const changes = () => {\n    onSubmit(ref.current, values);\n  };\n\n  return (\n    <Form onSubmit={changes} {...rest}>\n      {fields.map((field, i) => (\n        <GetTag field={field} key={field} />\n      ))}\n      {children_}\n      {submitButton && <Button>{actionName}</Button>}\n    </Form>\n  );\n}\n","import React from 'react'\nimport {Input} from './input';\n\n\nexport const PasswordInput = ({ value = '', ...rest }) => {\n    return <Input\n      value={value}\n      type=\"password\"\n      {...rest}\n    />;\n}\n","import React, { useEffect, useRef } from \"react\";\nimport { classnames } from \"../../lib/helpers\";\n\nexport const Checkbox = ({\n  id,\n  className,\n  loading,\n  disabled,\n  indeterminate = false,\n  value = false,\n  color,\n  backgroundColor,\n  borderColor,\n  children,\n  placeholder,\n  onChange,\n  ...rest\n}) => {\n  const inputRef = useRef(null);\n  const [state, setState] = React.useState(value)\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.indeterminate = indeterminate;\n    }\n  }, [indeterminate]);\n\n  const updateState = (ev) => {\n    setState(ev.target.checked)\n    onChange(ev.target.checked)\n  }\n\n  return (\n    <div className=\"field\">\n      <label htmlFor={id}\n        className={classnames([\"checkbox\", className])}\n        >\n        <input\n          ref={inputRef}\n          disabled={disabled || loading}\n          id={id}\n          type=\"checkbox\"\n          className=\"checkbox\"\n          checked={state}\n          onChange={updateState}\n          {...rest}\n        />\n        &nbsp;{children || placeholder}\n      </label>\n    </div>\n  );\n};\n","import React from 'react'\nimport {Input} from './input';\nimport {isEmail} from '../../lib/validators';\nimport {Icon} from '../ui/icon'\n\n\nexport const EmailInput = ({ value = '', ...rest }) => {\n    return <Input type=\"email\"\n      validator={isEmail}\n      errorMessage='Email address invalid'\n      value={value}\n      icon={<Icon icon='fas fa-envelope' />}\n      {...rest}\n    />;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { classnames } from '../../lib/helpers';\n\n// @ TODO implement hasErrors\n\n/** @type any */\nexport const Select = ({\n    options,\n    error,\n    size = 1,\n    className = '',\n    classWrap = '',\n    multiple = false,\n    loading = false,\n    isSubmitted,\n    onChange,\n    resetOnChange,\n    appendDefault = false,\n    style={},\n    ...rest\n}) => {\n\n    const ref = React.useRef()\n\n    const onUpdate = (ev) => {\n      if (ev.target.value === \"\") {\n        onChange({target:{value:undefined}})\n      } else {\n        onChange(ev)\n      }\n      if (resetOnChange) {\n        ref.current.value = ''\n      }\n    }\n\n    if (appendDefault) {\n      options = [{ text: \"Choose..\", value: \"\" }].concat(options)\n    }\n\n    const cssWrap = ['select', (multiple ? 'is-multiple' :''), classWrap]\n\n    return (\n        <div className={classnames(cssWrap)}>\n          <select\n              className={classnames(['', className])}\n              size={size}\n              multiple={multiple}\n              disabled={loading || rest.disabled}\n              onChange={onUpdate}\n              {...rest}\n              ref={ref}\n              style={style}\n          >\n              {options.map(({ text, ...rest }, index) => (\n                <option key={index.toString()} {...rest}>\n                  {text}\n                </option>\n              ))}\n          </select>\n        </div>\n    );\n};\n\nSelect.propTypes = {\n    error: PropTypes.string,\n    disabled: PropTypes.bool,\n    loading: PropTypes.bool,\n    isSubmitted: PropTypes.bool,\n    size: PropTypes.number,\n    onChange: PropTypes.func,\n    options: PropTypes.arrayOf(PropTypes.object),\n    multiple: PropTypes.bool,\n    className: PropTypes.string\n};\n\n","import React from \"react\";\nimport {lightFileReader} from '../../lib/client'\n\n\nexport function FileUpload({label, onChange}) {\n\n  const changed = async (event) => {\n    const file = await lightFileReader(event.target.files[0])\n    onChange(file)\n  }\n\n  return (\n    <div className=\"file\">\n      <label className=\"file-label\">\n        <input className=\"file-input\"\n          type=\"file\"\n          name=\"file\"\n          onChange={changed}\n          />\n        <span className=\"file-cta\">\n          <span className=\"file-icon\">\n            <i className=\"fas fa-upload\"></i>\n          </span>\n          <span className=\"file-label\">{label || 'Choose a file…'}</span>\n        </span>\n      </label>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport const Textarea = React.forwardRef(({\n  value = \"\",\n  rows = 5,\n  className,\n  onChange,\n  ...rest\n}, ref) => {\n  const css = \"textarea \" + className;\n\n  const onUpdate = ev => {\n    if (onChange) {\n      onChange(ev.target.value);\n    }\n  };\n\n  return (\n    <div className=\"field\">\n      <textarea\n        className={css}\n        rows={rows}\n        onChange={onUpdate}\n        value={value}\n        {...rest}\n        ref={ref}\n      />\n    </div>\n  );\n});\n","import React from \"react\";\nimport { useSetState } from \"react-use\";\nimport { TraversalContext } from \"../contexts\";\n\nconst initial = {\n  loading: undefined,\n  isError: false,\n  errorMessage: undefined,\n  result: undefined,\n  response: undefined\n};\n\nconst patch = (sate, setState, Ctx) => async (data, endpoint) => {\n  setState({ loading: true });\n  try {\n    const path = endpoint ? `${Ctx.path}${endpoint}` : Ctx.path;\n    const res = await Ctx.client.patch(path, data);\n    if (res.status < 400) {\n      // PATCH request has no body\n      const result = res.status;\n      setState({ result, loading: false, response:res });\n    } else {\n      setState({ isError: true, errorMessage: res.status, loading: false });\n    }\n  } catch (e) {\n    console.error(\"Error\", e);\n    setState({ isError: true, errorMessage: \"unhandled exception\" });\n  }\n};\n\nconst del =  (state, setState, Ctx) => async (data, endpoint) => {\n  setState({ loading: true });\n  try {\n    const path = endpoint ? `${Ctx.path}${endpoint}` : Ctx.path;\n    const res = await Ctx.client.delete(path, data);\n    if (res.status < 400) {\n      // PATCH request has no body\n      const result = res.status;\n      setState({ result, loading: false });\n    } else {\n      setState({ isError: true, errorMessage: res.status, loading: false, response:res });\n    }\n  } catch (e) {\n    console.error(\"Error\", e);\n    setState({ isError: true, errorMessage: \"unhandled exception\" });\n  }\n};\n\nconst post =  (state, setState, Ctx) => async (data, endpoint, body=true) => {\n  setState({ loading: true });\n  try {\n    const path = endpoint ? `${Ctx.path}${endpoint}` : Ctx.path;\n    const res = await Ctx.client.post(path, data);\n    if (res.status < 400) {\n      let result\n      if (body) {\n        result = await res.json();\n      } else {\n        result = res.status\n      }\n      setState({ result, loading: false, response:res });\n    } else {\n      setState({ isError: true, errorMessage: res.status, loading: false, response:res });\n    }\n  } catch (e) {\n    console.error(\"Error\", e);\n    setState({ isError: true, errorMessage: \"unhandled exception\" });\n  }\n\n};\n\nconst get =  (state, setState, Ctx) => async (endpoint) => {\n  setState({loading:true})\n  const path = endpoint ? `${Ctx.path}${endpoint}` : Ctx.path;\n  const req = await Ctx.client.get(path)\n  const data = await req.json()\n  setState({loading: false, result:data, response:req})\n  return data\n};\n\nexport function useCrudContext() {\n  const Ctx = React.useContext(TraversalContext);\n  const [state, setState] = useSetState(initial);\n\n  return {\n    ...state,\n    Ctx,\n    patch: patch(state, setState, Ctx),\n    del: del(state, setState, Ctx),\n    post: post(state, setState, Ctx),\n    get: get(state, setState, Ctx),\n  };\n}\n","import React from 'react'\n\n\nexport const Loading = ({...rest}) => (\n  <div className=\"progress-line\" {...rest}></div>\n)\n","\nimport React from 'react'\nimport {classnames} from '../../lib/helpers'\n\nexport const Tag = ({name, onRemove, size='is-medium', color='is-warning'}) => (\n  <span className={classnames([\"tag\", color,  size])}>\n    {name}\n    {onRemove!==undefined &&\n      <button className=\"delete is-small\"\n        onClick={() => onRemove()}></button>}\n  </span>\n)\n","import React from 'react'\n\nexport function Delete({ onClick, children }) {\n  return (<button type=\"button\"\n    onClick={onClick} className=\"delete\">\n      {children}</button>\n  );\n}\n","import React from \"react\";\nimport { classnames } from \"../../lib/helpers\";\n\nexport function Table({ headers, children, className }) {\n  className = className\n    ? className.split(\" \")\n    : \" is-full is-fullwidth is-narrow\".split(\" \");\n  return (\n    <table className={classnames([\"table\", ...className])}>\n      <thead>\n        <tr>{headers && headers.map((item, idx) => <th key={item + idx}>{item}</th>)}</tr>\n      </thead>\n      <tbody>{children}</tbody>\n    </table>\n  );\n}\n","import React from \"react\";\n\n\nexport function Notification({isColor='', children}) {\n  return (\n    <div className={\"notification is-\" + isColor}>\n      {children}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Input } from \"../input/input\";\nimport { Button } from \"../input/button\";\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport { Icon } from \"../ui\";\n\nexport function EditableField({ field, value, Type=Input, ns }) {\n  const ref = useRef();\n  const [isEdit, setEdit] = useState(false);\n  const {patch, loading, Ctx} = useCrudContext();\n  const [val, setValue] = useState(value);\n\n  const saveField = async ev => {\n    if (ev) ev.preventDefault();\n    const data = (ns) ? {[ns]: {[field]: val}} : { [field]: val }\n    await patch(data);\n    Ctx.flash(`Field ${field}, updated!`, \"success\");\n    Ctx.refresh();\n    setEdit(false);\n  };\n\n  useEffect(() => {\n    if (isEdit && ref.current) {\n      ref.current.focus();\n    }\n  });\n\n  return (\n    <React.Fragment>\n      {!isEdit && (\n        <div className=\"editable\" onClick={() => setEdit(true)}>\n          {value || 'Click to edit'}\n          <Icon icon=\"fas fa-edit\" />\n        </div>\n      )}\n\n      {isEdit && (\n        <div className=\"field\">\n          <form onSubmit={saveField}>\n            <div className=\"control\">\n              <Type\n                value={val || ''}\n                className=\"is-small\"\n                onChange={ev => setValue(ev)}\n                ref={ref}\n              />\n            </div>\n            <div className=\"field is-grouped\">\n              <div className=\"control\">\n                <Button\n                  className=\"is-small is-primary\"\n                  loading={loading}\n                  onClick={saveField}\n                >\n                  Save\n                </Button>\n              </div>\n              <div className=\"control\">\n                <Button className=\"is-small\" onClick={() => setEdit(false)}>\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )}\n    </React.Fragment>\n  );\n}\n","import React from 'react'\n\nconst plain = [\n  \"string\", \"number\", \"boolean\"\n]\n\n\nexport function RenderField({value, Widget}) {\n\n  if (!value) return ''\n\n  if (Widget) {\n    return <Widget value={value} />\n  }\n\n  const type = typeof value\n  if (plain.includes(type)) {\n    return value\n  }\n  if (type === \"object\") {\n     if (Array.isArray(value)) {\n       return value.map(item => <div key={item}><RenderField value={item} /></div>)\n     }\n     return Object.keys(value).map(key =>\n      <FieldValue field={key} value={value[key]} key={key} />\n    )\n  }\n  return <p>No render for {JSON.stringify(value)}</p>\n}\n\n\nconst FieldValue = ({field, value}) => (\n  <div className=\"field\">\n    <div className=\"label\">{field}</div>\n    <div className=\"value\">\n      <RenderField value={value} />\n    </div>\n  </div>\n)\n","import React from \"react\";\n\nimport { Icon } from \"../ui/icon\";\nimport { RenderField } from \"../fields/renderField\";\nimport { TraversalContext } from \"../../contexts\";\nimport { EditableField } from \"../fields/editableField\";\nimport { Textarea } from \"../input/textarea\";\nimport { Input } from \"../input/input\";\n\nconst Schema = {\n  editable: [\"title\", \"description\", \"effective_date\", \"expiration_date\"],\n  widgets: {\n    description: Textarea\n  }\n};\n\nexport function IDublinCore(props) {\n  const Ctx = React.useContext(TraversalContext);\n  const modifyContent = Ctx.hasPerm(\"guillotina.ModifyContent\");\n\n  return (\n    <React.Fragment>\n      {Object.keys(props).map(key => (\n        <tr key={'dublin_' + key}>\n          <td key={1}>{key}</td>\n          <td key={2}>\n            {Schema.editable.includes(key) && modifyContent && (\n              <EditableField\n                field={key}\n                value={props[key]}\n                Type={Schema.widgets[key] || Input}\n                ns=\"guillotina.behaviors.dublincore.IDublinCore\"\n              />\n            )}\n            {!Schema.editable.includes(key) && (\n              <RenderField value={props[key]} />\n            )}\n          </td>\n        </tr>\n      ))}\n    </React.Fragment>\n  );\n}\n\nexport function Author({ name }) {\n  return (\n    <div className=\"container\">\n      <Icon icon=\"fas fa-user\" />\n      <span>{name}</span>\n    </div>\n  );\n}\n","\nimport React from 'react'\nimport { TraversalContext } from '../../contexts'\nimport { useAsync } from 'react-use'\n\n\n// TODO: Refactor without useAsync... just crudContext\nexport function PanelAddons(props) {\n  const Ctx = React.useContext(TraversalContext)\n  let [action, setAction] = React.useState(false)\n\n  const installAddon = async (Ctx, key) => {\n    await Ctx.client.installAddon(Ctx.pathPrefix, key)\n    Ctx.flash(`Addon ${key} installed`, 'success')\n    setAction(!action)\n  }\n\n  const removeAddon = async (Ctx, key) => {\n    await Ctx.client.removeAddon(Ctx.pathPrefix, key)\n    Ctx.flash(`Addon ${key} removed`, 'success')\n    setAction(!action)\n  }\n\n  const state = useAsync(async () => {\n    const response = await Ctx.client.getAddons(Ctx.pathPrefix)\n    const data = await response.json()\n    return prepareData(data)\n  }, [action])\n\n  return (\n    <React.Fragment>\n      {state.loading\n        ? <div>loading</div>\n          : state.error\n            ? <p>Error: {state.error.message}</p>\n          : (\n          <div className=\"columns\">\n            <div className=\"column\">\n              <h2 className=\"title is-size-4 has-text-grey-dark\">Available Addons</h2>\n              <hr />\n              {state.value.available.length === 0 &&\n                <p>No Addon available in this container</p>}\n              <table className=\"table is-12\">\n                <tbody>\n                {state.value.available.map(addon =>\n                  <tr>\n                    <td>{addon.title}</td>\n                    <td>\n                      <button className=\"button is-primary is-small\"\n                        onClick={() => installAddon(Ctx, addon.id)}>\n                        Install\n                      </button>\n                    </td>\n                  </tr>\n                  )}\n                </tbody>\n              </table>\n          </div>\n          <div className=\"column\">\n            <h2 className=\"title is-size-4 has-text-grey-dark\">Installed Addons</h2>\n            <hr />\n            {state.value.installed.length === 0 &&\n              <p>No Addon installed in this container</p>}\n              <table className=\"table is-12\">\n              <tbody>\n              {state.value.installed.map(addon =>\n                <tr>\n                  <td>{addon.title}</td>\n                  <td>\n                    <button className=\"button is-danger is-small\"\n                      onClick={() => removeAddon(Ctx, addon.id)}>\n                      Remove\n                    </button>\n                  </td>\n                </tr>\n              )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n          )\n        }\n    </React.Fragment>\n  )\n\n}\n\nconst prepareData = (result) => {\n  const addons = arrayToObject(result.available)\n  return {\n    available: result.available.filter(\n      item => !result.installed.includes(item.id)),\n    installed: result.installed.map(id => addons[id])\n  }\n}\n\nconst arrayToObject = (array) =>\n   array.reduce((obj, item) => {\n     obj[item.id] = item\n     return obj\n   }, {})\n","import React from \"react\";\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\nimport { Table } from \"../ui/table\";\nimport { Button } from \"../input/button\";\n\nexport function PanelBehaviors() {\n  const { Ctx, get, result, loading, isError } = useCrudContext();\n  const ops = useCrudContext();\n\n  const [state, setState] = React.useState(false);\n\n  const enableBehavior = behavior => async () => {\n    await ops.patch({ behavior }, \"@behaviors\");\n    setState(!state);\n    Ctx.refresh()\n  };\n\n  const disableBehavior = behavior => async () => {\n    await ops.del({ behavior }, \"@behaviors\");\n    setState(!state);\n    Ctx.refresh()\n  };\n\n  React.useEffect(() => {\n    (async () => {\n      await get(\"@behaviors\");\n    })();\n  }, [state]);\n\n  return (\n    <div className=\"columns behaviors\">\n      <div className=\"column is-8 is-size-7\">\n        <h2 className=\"title is-size-5 has-text-grey-dark\">Behaviors</h2>\n        {!loading && !isError && result && (\n          <React.Fragment>\n            <Table>\n              <tr>\n                <td colSpan=\"3\">\n                  <h3 className=\"title is-size-6\">Static</h3>\n                </td>\n              </tr>\n              {result.static.map(behavior => (\n                <tr key={behavior}>\n                  <td>Static</td>\n                  <td>{behavior}</td>\n                  <td className=\"\">\n                    <Button className=\"is-small is-pulled-right\" disabled>\n                      Disable\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </Table>\n            <Table>\n              <tr>\n                <td colSpan=\"3\">\n                  <h3 className=\"title is-size-6\">Enabled</h3>\n                </td>\n              </tr>\n              {result.dynamic.map(behavior => (\n                <tr key={behavior}>\n                  <td>Enabled</td>\n                  <td>{behavior}</td>\n                  <td>\n                    <Button\n                      className=\"is-small is-danger is-pulled-right\"\n                      onClick={disableBehavior(behavior)}\n                    >\n                      Disable\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </Table>\n            <Table>\n              <tr>\n                <td colSpan=\"3\">\n                  <h3 className=\"title is-size-6\">Available</h3>\n                </td>\n              </tr>\n              {result.available.map(behavior => (\n                <tr key={behavior}>\n                  <td>Available</td>\n                  <td>{behavior}</td>\n                  <td>\n                    <Button\n                      className=\"is-small is-primary is-pulled-right\"\n                      onClick={enableBehavior(behavior)}\n                    >\n                      Enable\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </Table>\n          </React.Fragment>\n        )}\n      </div>\n      <div className=\"column is-4\"></div>\n    </div>\n  );\n}\n","\n\nexport const formatDate = (str) => {\n  const d = new Date(str)\n  const minutes = (d.getMinutes() < 10) ? `0${d.getMinutes()}` : d.getMinutes()\n  return `${d.getDate()}/${d.getMonth() +1}/${d.getFullYear()} ${d.getHours()}:${minutes}`\n}\n","\n\nconst base = {\n  local: {\n    roleperm: {},\n    prinperm: {},\n    prinrole: {}\n  },\n  inherit: {}\n}\n\nexport class Sharing {\n  constructor(element) {\n    Object.assign(this, element || base)\n  }\n\n  get roles() {\n    return Object.keys(this.local.roleperm)\n  }\n\n  getRole(role) {\n    return this.local.roleperm[role]\n  }\n\n  get principals() {\n    return Object.keys(this.local.prinperm)\n  }\n\n  getPrincipals(principal) {\n    return this.local.prinperm[principal]\n  }\n\n  get prinrole() {\n    return Object.keys(this.local.prinrole)\n  }\n\n  getPrinroles(role) {\n    return this.local.prinrole[role]\n  }\n\n}\n\n","import { formatDate } from \"../lib/utils\";\nexport * from './sharing'\n\nexport class ItemModel {\n  constructor(item, url, path) {\n    this.item = item;\n    this.url = url;\n    this._path = path;\n  }\n\n  get path() {\n    // if (this.item.path) {\n      // let parts = this.item.path.slice(1).split(\"/\");\n      // return this._path + parts[parts.length - 1] + \"/\";\n      // return this._path + this.item.path.slice(1) + \"/\"\n    // }\n    // return `${this._path}${this.id}/`;\n    let path = this.item[\"@id\"].split(\"//\")[1].split(\"/\").splice(1).join(\"/\")\n    return `/${path}/`\n  }\n\n  get name() {\n    return this.item[\"@name\"];\n  }\n\n  get icon() {\n    switch (this.type) {\n      case \"GroupManager\":\n        return \"fas fa-users-cog\";\n      case \"UserManager\":\n        return \"fas fa-user-cog\";\n      case \"User\":\n        return \"fas fa-user\";\n      case \"Group\":\n        return \"fas fa-users\";\n      case \"Folder\":\n        return \"fas fa-folder\";\n      default:\n        return \"fas fa-file\";\n    }\n  }\n\n  get fullPath() {\n    return this._url + this.item.id;\n  }\n\n  get id() {\n    if (this.item.id) {\n      return this.item.id;\n    }\n    let id = this.item[\"@id\"].split(\"&\")[0].split(\"/\");\n    return id[id.length - 1];\n  }\n\n  get uid() {\n    return this.item[\"@uid\"];\n  }\n\n  get type() {\n    return this.item[\"@type\"] || this.item.type_name;\n  }\n\n  get title() {\n    return this.item.title;\n  }\n\n  get created() {\n    return this.item.creation_date ? formatDate(this.item.creation_date) : \"\";\n  }\n\n  get updated() {\n    return this.item.modification_date\n      ? formatDate(this.item.modification_date)\n      : \"\";\n  }\n}\n\nexport const Permissions = [\n  \"guillotina.AddContent\",\n  \"guillotina.ModifyContent\",\n  \"guillotina.ViewContent\",\n  \"guillotina.DeleteContent\",\n  \"guillotina.AccessContent\",\n  \"guillotina.SeePermissions\",\n  \"guillotina.ChangePermissions\",\n  \"guillotina.MoveContent\",\n  \"guillotina.ReadConfiguration\",\n  \"guillotina.RegisterConfigurations\",\n  \"guillotina.WriteConfiguration\",\n  \"guillotina.ManageAddons\",\n  \"guillotina.swagger.View\",\n];\n","import React from \"react\";\n\nimport { Delete } from \"./ui\";\nimport { ItemModel } from \"../models\";\nimport { TraversalContext } from \"../contexts\";\nimport { useContext } from \"react\";\nimport { Icon } from \"./ui/icon\";\n\nexport function Item({ item, setPath, icon }) {\n  const Ctx = useContext(TraversalContext);\n  const link = () => Ctx.setPath(item.path);\n  return (\n    <tr>\n      <td onClick={link} style={{ width: \"25px\" }}>\n        {icon && <Icon icon={icon} />}\n      </td>\n      <td onClick={link}>{item.id}</td>\n    </tr>\n  );\n}\n\nconst smallcss = {\n  width: \"25px\"\n};\n\nconst mediumcss = {\n  width: \"120px\"\n};\n\nexport function RItem({ item, search }) {\n  const traversal = useContext(TraversalContext);\n  const model = new ItemModel(item, traversal.url, traversal.path);\n  const link = () => traversal.setPath(model.path);\n\n  return (\n    <tr key={item}>\n      <td style={smallcss}>{<Icon icon={model.icon} />}</td>\n      <td style={smallcss} onClick={link}>\n        <span className=\"tag\">{model.type}</span>\n      </td>\n      <td onClick={link}>\n        {model.name}\n        {search && (\n          <React.Fragment>\n            <br />\n            <span className=\"is-size-7 tag is-light\">{model.path}</span>\n          </React.Fragment>\n        )}\n      </td>\n      <td style={mediumcss} className=\"is-size-7 is-vcentered\">\n        {model.created}\n      </td>\n      <td style={mediumcss} className=\"is-size-7 is-vcentered\">\n        {model.updated}\n      </td>\n      <td style={smallcss}>\n        {traversal.hasPerm(\"guillotina.DeleteContent\") && (\n          <Delete onClick={() => traversal.doAction(\"removeItem\", model)} />\n        )}\n      </td>\n    </tr>\n  );\n}\n\nexport function ItemTitle({ title, actions }) {\n  return (\n    <nav className=\"level\">\n      <div className=\"level-left\">\n        <div className=\"level-item\">\n          <h4 className=\"title has-text-primary is-size-5\">{title}</h4>\n        </div>\n      </div>\n      <div className=\"level-right\">\n        <div className=\"level-item\">{actions && actions}</div>\n      </div>\n    </nav>\n  );\n}\n","import React from 'react'\n\n/* eslint jsx-a11y/anchor-is-valid: \"off\" */\nexport function Pagination({current, total, doPaginate, pager}) {\n\n  const maxPages = Math.ceil(total/pager)\n  if (maxPages <= 1) {\n    return null\n  }\n\n  return (\n    <div>\n    <p className=\"level-right has-text-grey is-size-7\">\n        <span className=\"has-text-black\">{current+1}</span>/\n        <span className=\"has-text-black\">{maxPages}</span>&nbsp;of {total} items</p>\n    <nav className=\"pagination is-size-7\" role=\"navigation\" aria-label=\"pagination\">\n\n      <a className=\"pagination-previous is-small\"\n        disabled={current===0}\n        onClick={() => (current>0) ? doPaginate(current-1) : null}>\n          <span className=\"icon\">\n            <i className=\"fas fa-arrow-left\"></i>\n          </span>\n        </a>\n      <a className=\"pagination-next is-small\"\n        disabled={current >= maxPages}\n        onClick={() => doPaginate(current+1)}>\n          <span className=\"icon\">\n            <i className=\"fas fa-arrow-right\"></i>\n          </span>\n        </a>\n\n    </nav>\n    </div>\n  )\n}\n\n","import React from \"react\";\nimport { useEffect, useRef, useState, useCallback } from \"react\";\n\n// Mostly inspired from\n// https://github.com/molefrog/wouter\n\n\nconst setURLParams = p =>\n    window.history[\"pushState\"](\n      0,\n      0,\n      (window.history.pathname || '' ) + \"?\" + p.toString().replace(/%2F/g, \"/\")\n    );\n\n  const clean = to => {\n    const current = new URLSearchParams();\n    Object.keys(to).forEach(_key => current.set(_key, to[_key]));\n    setURLParams(current);\n  };\n\n\nexport const useLocation = ({ base = \"\" } = {}) => {\n  const [path, update] = useState(currentSearchParams());\n  const prevPath = useRef(path);\n\n  useEffect(() => {\n    patchHistoryEvents();\n\n    // this function checks if the location has been changed since the\n    // last render and updates the state only when needed.\n    // unfortunately, we can't rely on `path` value here, since it can be stale,\n    // that's why we store the last pathname in a ref.\n    const checkForUpdates = () => {\n      const pathname = currentSearchParams();\n      prevPath.current !== pathname && update((prevPath.current = pathname));\n    };\n\n    const events = [\"popstate\", \"pushState\", \"replaceState\"];\n    events.map(e => window.addEventListener(e, checkForUpdates));\n\n    // it's possible that an update has occurred between render and the effect handler,\n    // so we run additional check on mount to catch these updates. Based on:\n    // https://gist.github.com/bvaughn/e25397f70e8c65b0ae0d7c90b731b189\n    checkForUpdates();\n\n    return () =>\n      events.map(e => window.removeEventListener(e, checkForUpdates));\n  }, []);\n\n\n\n  // the 2nd argument of the `useLocation` return value is a function\n  // that allows to perform a navigation.\n  //\n  // the function reference should stay the same between re-renders, so that\n  // it can be passed down as an element prop without any performance concerns.\n  const navigate = useCallback(\n    (to, replace) => {\n      if (replace) {\n        clean(to);\n        return;\n      }\n      let current = new URLSearchParams(path.toString());\n      Object.keys(to).forEach(_key => current.set(_key, to[_key]));\n      setURLParams(current);\n    },\n    [path]\n  );\n\n  const remove = useCallback(\n    param => {\n      let current = new URLSearchParams(path.toString());\n      current.delete(param);\n      setURLParams(current);\n    },\n    [path]\n  );\n\n  return [path, navigate, remove];\n};\n\n// While History API does have `popstate` event, the only\n// proper way to listen to changes via `push/replaceState`\n// is to monkey-patch these methods.\n//\n// See https://stackoverflow.com/a/4585031\n\nlet patched = 0;\n\nconst patchHistoryEvents = () => {\n  if (patched) return;\n\n  [\"pushState\", \"replaceState\"].map(type => {\n    const original = window.history[type];\n\n    window.history[type] = function() {\n      const result = original.apply(this, arguments);\n      const event = new Event(type);\n      event.arguments = arguments;\n\n      dispatchEvent(event);\n      return result;\n    };\n  });\n\n  return (patched = 1);\n};\n\nconst currentSearchParams = (path = window.location.search) =>\n  new URLSearchParams(path);\n","import React from \"react\";\nimport { Tag } from \"./ui/tag\";\nimport {useLocation} from '../hooks/useLocation'\n\nexport function SearchLabels(props) {\n\n  const [location, , del] = useLocation()\n  const search = location.get(\"q\")\n\n  const clearSearch = () => {\n    del(\"q\")\n  };\n\n  return (\n    <div className=\"tags\">\n      {search && <Tag name=\"Search:\" color=\"is-light\" size=\"is-size-7\" />}\n      {search && (\n        <Tag name={search} color=\"is-info\" size=\"is-size-7\" onRemove={() => clearSearch()} />\n      )}\n    </div>\n  );\n}\n","const SEP = \"=\";\nconst DEFAULT_FIELD = \"title__in\";\nconst CLEANER = \"||\";\n\nexport function parser(qs, defaultField = DEFAULT_FIELD) {\n  let lastKey = undefined;\n  qs.trim();\n\n  if (qs.includes('\"')) {\n    qs = qs.replace(/\"(\\w+) (\\w+)\"/, `$1${CLEANER}$2`);\n  }\n\n  qs = qs.split(\" \");\n  return qs.map(part => {\n    if (part.includes(CLEANER)) {\n      part = part.replace(\"||\", \" \");\n    }\n    if (!part.includes(SEP)) {\n      return !lastKey ? [defaultField, part] : [lastKey, part];\n    }\n    const [key, val] = part.split(SEP);\n    lastKey = key;\n    return [key, val];\n  });\n}\n\nexport function buildQs(parsedQuery) {\n  return parsedQuery\n    .map(\n      ([key, val]) => `${encodeURIComponent(key)}=${encodeURIComponent(val)}`\n    )\n    .join(\"&\");\n}\n","import React from \"react\";\n\nexport const Config = {\n  DisabledTypes: [\"UserManager\", \"GroupManager\"],\n  PageSize: 10,\n}\n\n\n\nlet calculated = Object.assign({}, Config);\n\nconst addConfig = (additional, original) => {\n  const rest = Object.assign({}, original);\n  Object.keys(additional).forEach(item => {\n    if (typeof Config[item] === \"object\" && Array.isArray(Config[item])) {\n      rest[item] = [].concat(Config[item], additional[item]);\n    } else if (typeof Config[item] === \"object\") {\n      rest[item] = Object.assign({}, Config[item], additional[item]);\n    } else {\n      rest[item] = additional[item];\n    }\n  });\n  return rest;\n};\n\nexport function useConfig(cfg) {\n  const ref = React.useRef(null);\n\n  if (!ref.current) {\n    ref.current = calculated;\n  }\n\n  if (cfg) {\n    ref.current = addConfig(cfg, ref.current);\n  }\n\n  return ref.current;\n}\n","import React from \"react\";\nimport { useContext } from \"react\";\nimport { useSetState } from \"react-use\";\nimport { useEffect } from \"react\";\nimport { TraversalContext } from \"../../contexts\";\nimport { RItem } from \"../item\";\nimport { Pagination } from \"../pagination\";\nimport { SearchLabels } from \"../../components/searchLabels\";\nimport { buildQs } from \"../../lib/search\";\nimport { useLocation } from \"../../hooks/useLocation\";\nimport { parser } from \"../../lib/search\";\nimport { useConfig } from \"../../hooks/useConfig\"\n\nconst initialState = {\n  page: 0,\n  items: [],\n  loading: true,\n  total: 0\n};\n\nexport function PanelItems(props) {\n  const [location, setLocation] = useLocation();\n  const {PageSize} = useConfig()\n\n  const Ctx = useContext(TraversalContext);\n  const [state, setState] = useSetState(initialState);\n  const { items, loading, total } = state;\n\n  let search = location.get(\"q\");\n  let page;\n\n  try {\n    page = parseInt(location.get(\"page\")) || 0;\n  } catch {\n    page = 0;\n  }\n\n  let searchParsed = undefined\n  if (search && search !== \"\") {\n    searchParsed = parser(search);\n  }\n\n  useEffect(() => {\n    (async () => {\n      let data;\n      setState({ loading: true, total: Ctx.context.length });\n      if (search) {\n        let qs = buildQs(searchParsed);\n        const res = await Ctx.client.search(\n          Ctx.path,\n          qs,\n          false,\n          false,\n          page * PageSize,\n          PageSize\n        );\n        data = await res.json();\n      } else {\n        data = await Ctx.client.getItems(Ctx.path, page * PageSize, PageSize);\n      }\n      setState({\n        items: data.member,\n        loading: false,\n        total: data.items_count\n      });\n    })();\n  }, [search, Ctx.state.path, Ctx.state.refresh, page]);\n\n  const doPaginate = page => {\n    setLocation({ page: page });\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"columns\">\n        <div className=\"column\">\n          <SearchLabels />\n        </div>\n        <div className=\"column\">\n          <Pagination\n            current={page}\n            total={total}\n            doPaginate={doPaginate}\n            pager={PageSize}\n          />\n        </div>\n      </div>\n      {loading && <div className=\"progress-line\"></div>}\n      {!loading && (\n        <table className=\"table is-fullwidth is-hoverable\">\n          <thead className=\"is-size-7\">\n            <tr>\n              <th></th>\n              <th className=\"has-text-info\">type</th>\n              <th className=\"has-text-info\">id/name</th>\n              <th className=\"has-text-info\">modified</th>\n              <th className=\"has-text-info\">created</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {items &&\n              items.map(item => (\n                <RItem item={item}\n                  setPath={Ctx.setPath}\n                  key={item[\"@uid\"]}\n                  search={search}\n                  />\n              ))}\n            {items && items.length === 0 && (\n              <tr>\n                <td colSpan=\"6\" className=\"has-text-centered\">\n                  Anything here!\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      )}\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { Table } from \"./ui/table\";\nimport { TraversalContext } from \"../contexts\";\n\n\nexport function BehaviorsView({ context}) {\n\n  const Ctx = React.useContext(TraversalContext)\n  const {getBehavior} = Ctx.registry\n\n  const behaviors = [].concat(\n    context.__behaviors__,\n    context[\"@static_behaviors\"]\n  );\n  const GetBehavior = b => {\n    const Cls = getBehavior(b, BehaviorNotImplemented);\n    return <Cls {...context[b]} />;\n  };\n\n  return (\n    <React.Fragment>\n      {behaviors.map(behavior => (\n        <div className=\"container\" key={behavior}>\n          <h3 className=\"title is-size-6 has-text-grey\">{behavior}</h3>\n          <Table\n            headers={[\"Field\", \"Value\"]}\n            className=\"is-striped is-fullwidth is-size-7\"\n          >\n            {GetBehavior(behavior)}\n          </Table>\n          <hr />\n        </div>\n      ))}\n    </React.Fragment>\n  );\n}\n\nexport function BehaviorNotImplemented() {\n  return (\n    <tr>\n      <td colSpan=\"3\">Not Implemented</td>\n    </tr>\n  );\n}\n\n\n\n\n/*\n<tr>\n  <td>Creators</td>\n  <td>{Ctx.context.creators.map(item =>\n    <Author name={item}  key={'a' + item} />\n    )}</td>\n</tr> */\n\n\n","import React from \"react\";\nimport { TraversalContext } from \"../../contexts\";\nimport { ItemModel } from \"../../models\";\nimport { BehaviorsView } from \"../behavior_view\";\nimport { Icon } from \"../ui/icon\";\n// import { Button } from \"../input/button\";\nimport { EditableField } from \"../fields/editableField\";\nimport { RenderField } from \"../fields/renderField\";\n\nconst showProperties = [\"@id\", \"@name\", \"@uid\", \"title\"];\nconst editable = [\"title\"];\n\nexport function PanelProperties(props) {\n  const Ctx = React.useContext(TraversalContext);\n  const modifyContent = Ctx.hasPerm(\"guillotina.ModifyContent\");\n\n  const model = new ItemModel(Ctx.context);\n\n  return (\n    <div className=\"container\">\n      <div className=\"level\">\n        <div className=\"level-left\">\n          <h2 className=\"title is-size-4 is-primary\">\n            <Icon icon={model.icon} align=\"is-left\" className=\"has-text-grey\" />{\" \"}\n            &nbsp;\n            <span>{Ctx.context.title}</span>\n          </h2>\n        </div>\n        <div className=\"level-right\">\n          {/* <Button className=\"is-small\">\n            <Icon icon=\"fas fa-trash\" />\n            <span>Delete</span>\n          </Button>\n          <Button className=\"is-small\">\n            <Icon icon=\"fas fa-arrow-right\" />\n            <span>Move</span>\n          </Button> */}\n        </div>\n      </div>\n\n      <hr />\n      <div className=\"columns\">\n        <div className=\"column\">\n          <table className=\"table is-striped is-fullwidth is-size-7\">\n            <thead>\n              <tr>\n                <th className=\"is-2\">Prop</th>\n                <th className=\"is-8\">Value</th>\n              </tr>\n            </thead>\n            <tbody>\n              {showProperties.map(prop => (\n                <tr key={\"prop\" + prop}>\n                  <td>{prop}</td>\n                  <td>\n                    {editable.includes(prop) && modifyContent ? (\n                      <EditableField field={prop} value={Ctx.context[prop]} />\n                    ) : (\n                      <RenderField value={Ctx.context[prop]} />\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <BehaviorsView context={Ctx.context} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Select } from \"../input/select\";\nimport { Button } from \"../input/button\";\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\nimport { useSetState } from \"react-use\";\nimport ErrorZone from \"../error_zone\";\n\nexport function PermissionRoleperm({\n  roles,\n  permissions,\n  operations,\n  refresh\n}) {\n  const { post, loading } = useCrudContext();\n  const [state, setState] = useSetState({\n    role: undefined,\n    permission: [],\n    setting: undefined,\n    error: undefined\n  });\n\n  const getMultiples = (field, setter) => ev => {\n    let values = [];\n    for (let i = 0; i < ev.target.selectedOptions.length; i++) {\n      values = values.concat([ev.target.selectedOptions[i].value]);\n    }\n    setter({ [field]: values });\n  };\n\n  const savePermission = async ev => {\n    if (!state.role || !state.setting || state.permission.length === 0) {\n      console.log(state);\n      setState({ error: \"Invalid form\" });\n      return\n    }\n    const data = {\n      roleperm: state.permission.map(perm => ({\n        role: state.role,\n        permission: perm,\n        setting: state.setting\n      }))\n    };\n    await post(data, \"@sharing\", false);\n    refresh(Math.random());\n  };\n\n  return (\n    <div className=\"container\">\n      {loading}\n      {state.error && <ErrorZone>Invalid form data</ErrorZone>}\n      <div className=\"field\">\n        <label className=\"label\">Select a Role</label>\n        <Select\n          appendDefault\n          options={roles}\n          onChange={ev => setState({ role: ev.target.value })}\n        />\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">Select permissions</label>\n        <Select\n          options={permissions}\n          onChange={getMultiples(\"permission\", setState)}\n          size={5}\n          multiple\n        />\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">Operation</label>\n        <Select\n          appendDefault\n          options={operations}\n          onChange={ev => setState({ setting: ev.target.value })}\n        />\n      </div>\n      <Button\n        className=\"is-primary is-small\"\n        loading={loading}\n        onClick={savePermission}\n      >\n        Save\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Select } from \"../input/select\";\nimport { Button } from \"../input/button\";\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\nimport { useSetState } from \"react-use\";\nimport ErrorZone from \"../error_zone\";\n\nexport function PermissionPrinperm({\n  groups,\n  permissions,\n  operations,\n  refresh\n}) {\n  const { post, loading } = useCrudContext();\n  const [state, setState] = useSetState({\n    principal: undefined,\n    permission: [],\n    setting: undefined,\n    error: undefined\n  });\n\n  const getMultiples = (field, setter) => ev => {\n    let values = [];\n    for (let i = 0; i < ev.target.selectedOptions.length; i++) {\n      values = values.concat([ev.target.selectedOptions[i].value]);\n    }\n    setter({ [field]: values });\n  };\n\n  const savePermission = async ev => {\n    if (!state.principal || !state.setting || state.permission.length === 0) {\n      setState({ error: \"Invalid form\" });\n      return\n    }\n    const data = {\n      prinperm: state.permission.map(perm => ({\n        principal: state.principal,\n        permission: perm,\n        setting: state.setting\n      }))\n    };\n    await post(data, \"@sharing\", false);\n    refresh(Math.random());\n  };\n\n  return (\n    <div className=\"container\">\n      {loading}\n      {state.error && <ErrorZone>Invalid form data</ErrorZone>}\n      <div className=\"field\">\n        <label className=\"label\">Select a Principal</label>\n        <Select\n          appendDefault\n          options={groups}\n          onChange={ev => setState({ principal: ev.target.value })}\n        />\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">Select permissions</label>\n        <Select\n          options={permissions}\n          onChange={getMultiples(\"permission\", setState)}\n          size={5}\n          multiple\n        />\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">Operation</label>\n        <Select\n          appendDefault\n          options={operations}\n          onChange={ev => setState({ setting: ev.target.value })}\n        />\n      </div>\n      <Button\n        className=\"is-primary is-small\"\n        loading={loading}\n        onClick={savePermission}\n      >\n        Save\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Select } from \"../input/select\";\nimport { Button } from \"../input/button\";\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\nimport { useSetState } from \"react-use\";\nimport ErrorZone from \"../error_zone\";\n\nexport function PermissionPrinrole({\n  groups,\n  roles,\n  operations,\n  refresh\n}) {\n  const { post, loading } = useCrudContext();\n  const [state, setState] = useSetState({\n    principal: undefined,\n    roles: [],\n    setting: undefined,\n    error: undefined\n  });\n\n  const getMultiples = (field, setter) => ev => {\n    let values = [];\n    for (let i = 0; i < ev.target.selectedOptions.length; i++) {\n      values = values.concat([ev.target.selectedOptions[i].value]);\n    }\n    setter({ [field]: values });\n  };\n\n  const savePermission = async ev => {\n    if (!state.principal || !state.setting || state.roles.length === 0) {\n      setState({ error: \"Invalid form\" });\n      return\n    }\n    const data = {\n      prinrole: state.roles.map(perm => ({\n        principal: state.principal,\n        role: perm,\n        setting: state.setting\n      }))\n    };\n    await post(data, \"@sharing\", false);\n    refresh(Math.random());\n  };\n\n  return (\n    <div className=\"container\">\n      {loading}\n      {state.error && <ErrorZone>Invalid form data</ErrorZone>}\n      <div className=\"field\">\n        <label className=\"label\">Select a Principal</label>\n        <Select\n          appendDefault\n          options={groups}\n          onChange={ev => setState({ principal: ev.target.value })}\n        />\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">Select a Role</label>\n        <Select\n          options={roles}\n          onChange={getMultiples(\"roles\", setState)}\n          size={5}\n          multiple\n        />\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">Operation</label>\n        <Select\n          appendDefault\n          options={operations}\n          onChange={ev => setState({ setting: ev.target.value })}\n        />\n      </div>\n      <Button\n        className=\"is-primary is-small\"\n        loading={loading}\n        onClick={savePermission}\n      >\n        Save\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { Table } from \"../ui/table\";\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\nimport { Sharing } from \"../../models\";\nimport { TraversalContext } from \"../../contexts\";\nimport { useSetState } from \"react-use\";\nimport { Select } from \"../input/select\";\nimport { PermissionRoleperm } from \"./permissions_roleperm\";\nimport { PermissionPrinperm } from \"./permissions_prinperm\";\nimport { PermissionPrinrole } from \"./permissions_prinrole\";\n\nexport function PanelPermissions(props) {\n  const { get, result, loading } = useCrudContext();\n\n  const [reset, setReset] = React.useState(1);\n\n  React.useEffect(() => {\n    (async () => {\n      await get(\"@sharing\");\n    })();\n  }, [reset]);\n\n  const perms = new Sharing(result);\n\n  return (\n    <div className=\"columns\">\n      {!loading && (\n        <div className=\"column is-8 is-size-7 permissions\">\n          <h2 className=\"title is-size-5 has-text-grey-dark\">\n            Role Permissions\n          </h2>\n          <Table headers={[\"Role\", \"Premission\", \"Setting\"]}>\n            {perms.roles.map((role, idx) => (\n              <React.Fragment key={'ff' + idx}>\n                <tr>\n                  <td colSpan=\"3\" className=\"has-text-link\">\n                    {role}\n                  </td>\n                  {/* <td>\n                    <Icon icon=\"fas fa-ban\" />\n                    <span>Remove</span>\n                  </td> */}\n                </tr>\n                {Object.keys(perms.getRole(role)).map((row, idx) => (\n                  <tr key={'k' + idx}>\n                    <td></td>\n                    <td>{row}</td>\n                    <td>{perms.getRole(role)[row]}</td>\n                  </tr>\n                ))}\n              </React.Fragment>\n            ))}\n            {perms.roles.length === 0 && (\n              <tr>\n                <td colSpan=\"3\">No roles permissions defined</td>\n              </tr>\n            )}\n          </Table>\n          <h2 className=\"title is-size-5 has-text-grey-dark\">\n            Principal Permissions\n          </h2>\n          <Table headers={[\"Principal\", \"Premission\", \"Setting\"]}>\n            {perms.principals.map((role, idx) => (\n              <React.Fragment key={'f2' + idx}>\n                <tr>\n                  <td colSpan=\"3\" className=\"has-text-link\">\n                    {role}\n                  </td>\n                </tr>\n                {Object.keys(perms.getPrincipals(role)).map((row, idx) => (\n                  <tr key={\"x\" + idx}>\n                    <td></td>\n                    <td>{row}</td>\n                    <td>{perms.getPrincipals(role)[row]}</td>\n                  </tr>\n                ))}\n              </React.Fragment>\n            ))}\n            {perms.principals.length === 0 && (\n              <tr>\n                <td colSpan=\"3\">No principals permissions defined</td>\n              </tr>\n            )}\n          </Table>\n          <h2 className=\"title is-size-5 has-text-grey-dark\">\n            Principal Roles\n          </h2>\n          <Table headers={[\"Principal\", \"Role\", \"Setting\"]}>\n            {perms.prinrole.map((role, idx) => (\n              <React.Fragment key={role + idx}>\n                <tr>\n                  <td colSpan=\"3\" className=\"has-text-link\">\n                    {role}\n                  </td>\n                </tr>\n                {Object.keys(perms.getPrinroles(role)).map((row, idx) => (\n                  <tr key={\"xx\" + idx}>\n                    <td></td>\n                    <td>{row}</td>\n                    <td>{perms.getPrinroles(role)[row]}</td>\n                  </tr>\n                ))}\n              </React.Fragment>\n            ))}\n            {perms.prinrole.length === 0 && (\n              <tr>\n                <td colSpan=\"3\">No principals roles defined</td>\n              </tr>\n            )}\n          </Table>\n        </div>\n      )}\n      <AddPermission refresh={setReset} reset={reset} />\n    </div>\n  );\n}\n\nconst initial = {\n  permissions: undefined,\n  groups: undefined,\n  roles: [],\n  current: \"\",\n  currentObj: undefined\n};\n\nconst operations = [\n  { text: \"Allow\", value: \"Allow\" },\n  { text: \"Deny\", value: \"Deny\" },\n  { text: \"AllowSingle\", value: \"AllowSingle\" },\n  { text: \"Unset\", value: \"Unset\" }\n];\n\nconst defaultOptions = [\n  { text: \"Choose..\", value: \"\" },\n  { text: \"Role Permissions\", value: \"roleperm\" },\n  { text: \"Principal Permissions\", value: \"prinperm\" },\n  { text: \"Principal Roles\", value: \"prinrole\" }\n];\n\nexport function AddPermission({ refresh, reset }) {\n  const Ctx = React.useContext(TraversalContext);\n  const [state, setState] = useSetState(initial);\n\n  React.useEffect(() => {\n    (async () => {\n      const permissions = (await Ctx.client.getAllPermissions(Ctx.path)).map(\n        perm => ({\n          text: perm,\n          value: perm\n        })\n      );\n      let req = await Ctx.client.getGroups(Ctx.path);\n      const groups = (await req.json()).map(group => ({\n        text: group.id,\n        value: group.id\n      }));\n      req = await Ctx.client.getRoles(Ctx.path);\n      const roles = (await req.json()).map(role => ({\n        text: role,\n        value: role\n      }));\n      setState({ permissions, groups, roles });\n    })();\n  }, [reset]);\n\n  return (\n    <div className=\"column is-4 is-size-7\">\n      <h1 className=\"title is-size-5\">Add Permissions</h1>\n      <p>Select a type:</p>\n      <Select\n        options={defaultOptions}\n        onChange={v => setState({ current: v.target.value })}\n      />\n      <hr />\n      {state.current && state.current === \"roleperm\" && (\n        <PermissionRoleperm\n          {...state}\n          operations={operations}\n          refresh={refresh}\n        />\n      )}\n      {state.current && state.current === \"prinperm\" && (\n        <PermissionPrinperm\n          {...state}\n          operations={operations}\n          refresh={refresh}\n        />\n      )}\n      {state.current && state.current === \"prinrole\" && (\n        <PermissionPrinrole\n          {...state}\n          operations={operations}\n          refresh={refresh}\n        />\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSetState } from \"react-use\";\nimport { Select } from \"../input/select\";\nimport { Button } from \"../input/button\";\nimport { Input } from \"../input/input\";\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\n\nimport AceEditor from \"react-ace\";\nimport brace from \"brace\";\nimport \"brace/mode/json\";\n\nconst initial = {\n  method: \"get\",\n  endpoint: \"\"\n};\n\nconst methods = [\n  { text: \"GET\", value: \"get\" },\n  { text: \"POST\", value: \"post\" },\n  { text: \"DELETE\", value: \"delete\" },\n  { text: \"PATCH\", value: \"patch\" }\n  // { text: \"PUT\", value: \"put\" }\n];\n\nexport function PanelRequester() {\n  const [state, setState] = useSetState(initial);\n  const { get, post, del, patch, loading, isError, result } = useCrudContext();\n  const ref = React.useRef();\n\n  React.useEffect(() => {\n    if (ref.current) {\n      ref.current = \"\";\n    }\n  }, []);\n\n  const doRequest = async (ev) => {\n\n    if (ev) {\n      ev.preventDefault()\n    }\n\n    const ace =\n      ref.current && ref.current !== \"\" ? JSON.parse(ref.current) : undefined;\n    const { method, endpoint } = state;\n    if (method === \"get\") {\n      await get(endpoint);\n    }\n    if (method === \"post\") {\n      await post(ace, endpoint);\n    }\n    if (method === \"del\") {\n      await del(endpoint, ace);\n    }\n    if (method === \"patch\") {\n      await patch(ace, endpoint);\n    }\n  };\n\n  const onUpdate = value => (ref.current = value);\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"title is-size-5\">JSON Context Requester</h2>\n      <hr />\n      <form onSubmit={doRequest} className=\"form\">\n      <div className=\"columns is-size-7\">\n        <div className=\"column\">\n          <div className=\"field\">\n            <label className=\"label\">Method</label>\n            <Select\n              options={methods}\n              onChange={ev => setState({ method: ev.target.value })}\n              style={{ width: \"100%\" }}\n              classWrap=\"is-block\"\n            />\n          </div>\n        </div>\n        <div className=\"column is-4\">\n          <div className=\"field\">\n            <label className=\"label\">Endpoint</label>\n            <Input\n              placeholder=\"Default for context\"\n              type=\"text\"\n              onChange={value => setState({ endpoint: value })}\n              className=\"is-small\"\n            />\n\n          </div>\n        </div>\n        <div className=\"column\">\n          <div className=\"field\">\n            <label className=\"label\">&nbsp;</label>\n            <Button\n              className=\"is-primary is-small\"\n              loading={loading}\n              onClick={doRequest}\n            >\n              Send\n            </Button>\n          </div>\n        </div>\n        <div className=\"column is-6\"></div>\n      </div>\n      </form>\n      <div className=\"columns\">\n        <div className=\"column\">\n          <h2 className=\"title is-size-6\">Body</h2>\n          <AceEditor\n            mode=\"json\"\n            onChange={onUpdate}\n            value={ref.current}\n            name=\"EDITOR\"\n            width=\"100%\"\n            tabSize={2}\n            fontFamily=\"Menlo, Monaco\"\n            editorProps={{\n              $blockScrolling: Infinity,\n              enableBasicAutocompletion: false,\n              enableLiveAutocompletion: false,\n              enableSnippets: false,\n              showLineNumbers: true\n            }}\n          />\n        </div>\n        <div className=\"column\">\n          <h2 className=\"title is-size-6\">Response</h2>\n          {result && (\n            <AceEditor\n              mode=\"json\"\n              width=\"100%\"\n              name=\"VIEWER\"\n              tabSize={2}\n              fontFamily=\"Menlo, Consolas, Ubuntu Mono\"\n              value={JSON.stringify(result, null, 2)}\n              editorProps={{\n                $blockScrolling: Infinity,\n                enableBasicAutocompletion: false,\n                enableLiveAutocompletion: false,\n                enableSnippets: false,\n                showLineNumbers: true,\n                tabSize: 2\n              }}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Select } from \"../input/select\";\nimport { Tag } from \"../ui/tag\";\nimport { Loading } from \"../ui/loading\";\n\nconst prepareAvailable = (items, already, title) => {\n  const def = { value: \"\", text: `Add ${title}` };\n  if (items.length === 0) return [];\n  if (items[0] && typeof items[0] === \"string\") {\n    return [def]\n      .concat(items.map(x => ({ value: x, text: x })))\n      .filter(item => !already.includes(item.value));\n  }\n  return [def].concat(items).filter(item => !already.includes(item.value));\n};\n\nexport function TagsWidget({\n  items,\n  available,\n  title,\n  noData,\n  onChange,\n  loading\n}) {\n  const [result, setResult] = React.useState(items);\n  available = prepareAvailable(available || [], result, title);\n\n  const remove = value => {\n    const items = result.filter(item => item !== value);\n    setResult(items);\n    onChange(items);\n  };\n\n  const addItem = value => {\n    if (value === \"\") return;\n    const items = result.concat([value]);\n    setResult(items);\n    onChange(items);\n  };\n\n  return (\n    <React.Fragment>\n      <h3 className=\"title is-size-6\">{title}</h3>\n      {loading ? <Loading style={{ marginBottom: \"1.5rem\" }} /> : <hr />}\n      <ul>\n        <div className=\"tags\">\n          {result.map(item => (\n            <Tag name={item} onRemove={() => remove(item)} key={item} />\n          ))}\n        </div>\n        {result.length === 0 && (\n          <li style={{ marginBottom: \"20px\" }}>{noData}</li>\n        )}\n        {available.length > 1 && (\n          <li className=\"widget-list-add select is-small\">\n            <Select\n              options={available}\n              resetOnChange\n              onChange={ev => addItem(ev.target.value)}\n            />\n          </li>\n        )}\n      </ul>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useSetState } from \"react-use\";\nimport { useRef } from \"react\";\nimport { useContext } from \"react\";\nimport { TraversalContext } from \"../contexts\";\nimport { useClickAway } from \"react-use\";\nimport { useConfig } from \"../hooks/useConfig\";\nimport { Icon } from \"./ui/icon\";\nimport { useLocation } from \"../hooks/useLocation\";\n\n/* eslint jsx-a11y/anchor-is-valid: \"off\" */\nconst initialState = {\n  types: undefined,\n  isActive: false\n};\n\nexport function CreateButton(props) {\n  const ref = useRef(null);\n  const [state, setState] = useSetState(initialState);\n  const Ctx = useContext(TraversalContext);\n  const Config = useConfig();\n  useEffect(() => {\n    (async function anyNameFunction() {\n      const types = await Ctx.client.getTypes(Ctx.path);\n      setState({\n        types: types.filter(item => !Config.DisabledTypes.includes(item))\n      });\n    })();\n  }, [Ctx.path]);\n\n  useClickAway(ref, () => {\n    setState({ isActive: false });\n  });\n\n  const doAction = item => () => {\n    Ctx.doAction(\"addItem\", { type: item });\n    setState({ isActive: false });\n  };\n\n  // Implement some kind of filtering\n\n  const status = state.isActive\n    ? \"dropdown is-right is-active\"\n    : \"dropdown is-right\";\n\n  return (\n    <div className={status} ref={ref}>\n      <div className=\"dropdown-trigger\">\n        <button\n          className=\"button is-size-7\"\n          onClick={() => setState({ isActive: !state.isActive })}\n          aria-haspopup=\"true\"\n          aria-controls=\"dropdown-menu\"\n        >\n          <span className=\"icon\">\n            <i className=\"fas fa-plus\"></i>\n          </span>\n        </button>\n      </div>\n      <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n        <div className=\"dropdown-content\">\n          {state.types &&\n            state.types.map(item => (\n              <a className=\"dropdown-item\" key={item} onClick={doAction(item)}>\n                {item}\n              </a>\n            ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function ContextToolbar(props) {\n  const [location, setLocation] = useLocation();\n  const ctx = React.useContext(TraversalContext);\n  const ref = React.useRef(null);\n\n  const searchText = location.get(\"q\");\n\n  const onSearch = ev => {\n    const search = ev.target[0].value;\n    setLocation({ q: search, tab: \"Items\" });\n    // let searchParsed = parser(search);\n    // ctx.setState({ search, searchParsed });\n    ev.preventDefault();\n  };\n\n  const setFocus = ev => {\n    ref.current.focus();\n    ev.preventDefault();\n  };\n\n  // useKey(\"/\", setFocus)\n\n  // cleanup form on state.search change\n  React.useEffect(() => {\n    if (!searchText || searchText === \"\") {\n      ref.current.value = \"\";\n    }\n  }, [searchText]);\n\n  return (\n    <React.Fragment>\n      <div className=\"level-item\">\n        <form action=\"\" className=\"form\" onSubmit={onSearch}>\n          <div className=\"field has-addons\">\n            <div className=\"control\">\n              <input\n                ref={ref}\n                type=\"text\"\n                className=\"input is-size-7\"\n                placeholder=\"Search...\"\n              />\n            </div>\n            <div className=\"control\">\n              <button\n                className=\"button has-background-grey-lighter is-size-7\"\n                type=\"submit\"\n              >\n                <Icon icon=\"fas fa-search\" />\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n      {ctx.hasPerm(\"guillotina.AddContent\") && (\n        <div className=\"level-item\">\n          <CreateButton {...props} />\n        </div>\n      )}\n    </React.Fragment>\n  );\n}\n","import React from 'react'\nimport {TraversalContext} from '../contexts'\nimport {Notification} from './ui/notification'\nimport {Delete} from './ui/delete'\n\n\nexport function Flash() {\n  const Ctx = React.useContext(TraversalContext)\n  const {flash} = Ctx.state\n\n  if (!flash.message) return null\n\n  return (\n    <Notification isColor={flash.type}>\n        {flash.message}\n        <Delete onClick={() => Ctx.clearFlash()} />\n    </Notification>\n  )\n\n}\n","import React from 'react';\nimport {TraversalContext} from '../contexts'\nimport {useContext} from 'react'\nimport {useLocation} from '../hooks/useLocation'\n\n/* eslint jsx-a11y/anchor-is-valid: \"off\" */\n\nexport function Path(props) {\n\n  const ctx = useContext(TraversalContext)\n  const [, navigate] = useLocation()\n\n  let segments = ctx.path.replace(/\\/$/, \"\").split(\"/\")\n  let links = buildPaths(segments)\n\n  if (segments.length === 1) {\n    return false\n  }\n  //ctx.setPath(links[indx])\n  return (\n    <nav className=\"breadcrumb\" aria-label=\"breadcrumbs\">\n      <ul>\n      {segments.map((item, indx) =>\n        ((indx === 0) ?\n          <li key={indx}>\n            <a onClick={() => navigate({path:links[indx]}, true)}>\n              <span className=\"icon\">\n                <i className=\"fas fa-home\"></i>\n              </span>\n            </a>\n          </li>\n          :\n          <li key={indx}><a onClick={() => navigate({path:links[indx]}, true)}>\n          {item}</a></li>\n      ))}\n      </ul>\n    </nav>\n  )\n\n}\n\nconst buildPaths = (segments) => {\n  let current = \"\"\n  let results = []\n  segments.map((item, indx) => {\n    if (indx === 0) {\n      current += \"/\"\n    } else {\n      current += item + \"/\"\n    }\n    results.push(current)\n    return item\n  })\n  return results\n}\n","import React from 'react'\nimport {Icon} from './ui/icon'\n\n\nexport function NotAllowed() {\n  return (\n    <div className=\"box not-allowed\">\n      <h1 className=\"title has-text-danger\"\n        style={{fontSize: '4rem'}}><Icon icon=\"fas fa-ban\"/></h1>\n      <h1 className=\"title has-text-grey-darker\">Not Allowed</h1>\n\n    </div>\n  )\n}\n","import React from 'react'\nimport {Icon} from './ui/icon'\n\n\nexport function NotFound() {\n  return (\n    <div className=\"box not-allowed\">\n      <h1 className=\"title has-text-grey\"\n        style={{fontSize: '4rem'}}><Icon icon=\"fas fa-dizzy\"/></h1>\n      <h1 className=\"title has-text-grey-darker\">404. Not Found</h1>\n\n    </div>\n  )\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { TraversalContext } from \"../contexts\";\nimport { useLocation } from \"../hooks/useLocation\";\n\nexport function TabsPanel({ tabs, currentTab, rightToolbar, ...props }) {\n\n  const [location, setLocation] = useLocation();\n\n  const defaultTab = currentTab\n\n  if (location.get(\"tab\")) {\n    currentTab = location.get(\"tab\");\n  } else {\n    currentTab = currentTab || Object.keys(tabs)[0];\n  }\n\n  /*if (!Object.keys(tabs).includes(currentTab)) {\n    setLocation(defaultTab)\n    currentTab = defaultTab\n  }*/\n\n  const [current, setTab] = useState(currentTab);\n  const CurrentComp = tabs[current];\n\n  React.useEffect(() => {\n    if (Object.keys(tabs).includes(currentTab)) {\n      setTab(currentTab);\n      // setLocation({tab: currentTab})\n    }\n  }, [currentTab, tabs]);\n\n  const changeTab = tab => {\n    setLocation({ tab: tab });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"level\">\n        <div className=\"level-left\">\n          <div className=\"tabs\">\n            <ul>\n              {Object.keys(tabs).map(tab => (\n                <li\n                  className={\n                    \"is-size-7 \" + (tab === current ? \"is-active\" : \"\")\n                  }\n                  key={tab}\n                >\n                  <a onClick={() => changeTab(tab)}>{tab}</a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        {rightToolbar && <div className=\"level-right\">{rightToolbar}</div>}\n      </div>\n      <div className=\"container\">\n        <CurrentComp title={current} {...props} />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { TabsPanel } from \"../components/tabs\";\nimport { ContextToolbar } from \"../components/context_toolbar\";\nimport { PanelItems } from \"../components/panel/items\";\nimport { TraversalContext } from \"../contexts\";\nimport { PanelProperties } from \"../components/panel/properties\";\nimport { PanelPermissions} from \"../components/panel/permissions\"\nimport { PanelBehaviors } from \"../components/panel/behaviors\";\nimport { PanelRequester } from \"../components/panel/requester\";\n\n\nconst tabs = {\n  Items: PanelItems,\n  Properties: PanelProperties,\n  Behaviors: PanelBehaviors,\n  Permissions: PanelPermissions,\n  Requester: PanelRequester,\n};\n\nconst tabsPermissions = {\n  Items: \"guillotina.ViewContent\",\n  Properties: \"guillotina.ViewContent\",\n  Behaviors: \"guillotina.ModifyContent\",\n  Permissions: \"guillotina.SeePermissions\",\n  Requester: \"guillotina.swagger.View\"\n};\n\nexport function FolderCtx(props) {\n  const ctx = React.useContext(TraversalContext);\n  const calculated = ctx.filterTabs(tabs, tabsPermissions);\n\n  return (\n    <TabsPanel\n      tabs={calculated}\n      currentTab=\"Items\"\n      rightToolbar={<ContextToolbar {...props} />}\n      {...props}\n    />\n  );\n}\n","import React from \"react\";\nimport { TabsPanel } from \"../components/tabs\";\nimport { TraversalContext } from \"../contexts\";\nimport { PanelPermissions} from \"../components/panel/permissions\"\nimport { PanelBehaviors } from \"../components/panel/behaviors\";\nimport { PanelProperties } from \"../components/panel/properties\";\n\n\nconst tabs = {\n  Properties: PanelProperties,\n  Behaviors: PanelBehaviors,\n  Permissions: PanelPermissions\n};\n\nconst tabsPermissions = {\n  Properties: \"guillotina.ViewContent\",\n  Behaviors: \"guillotina.ModifyContent\",\n  Permissions: \"guillotina.SeePermissions\"\n};\n\n\n\nexport function ItemCtx(props) {\n  const ctx = React.useContext(TraversalContext);\n  const calculated = ctx.filterTabs(tabs, tabsPermissions);\n\n  return <TabsPanel tabs={calculated} currentTab=\"Properties\" {...props} />;\n}\n","import React from \"react\";\n\nimport { Item } from \"../components/item\";\nimport { ItemTitle } from \"../components/item\";\nimport { Button } from \"../components/input/button\";\nimport { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { TraversalContext } from \"../contexts\";\nimport { Modal } from \"../components/modal\";\nimport { Form } from \"../components/input/form\";\nimport { Input } from \"../components/input/input\";\n\nexport function ApplicationCtx(props) {\n  const { databases } = props.state.context;\n  return (\n    <React.Fragment>\n      <h3>Databases</h3>\n      <div className=\"container\">\n        <ItemTitle title=\"Objects\" />\n        {databases.map(db => (\n          <Item\n            item={{ id: db, path: `/${db}/` }}\n            key={db}\n            icon={\"fas fa-database\"}\n          />\n        ))}\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport function DatabaseCtx({ state, client, ...props }) {\n  const Ctx = useContext(TraversalContext);\n  const { containers } = state.context;\n  const { path } = state;\n  return (\n    <React.Fragment>\n      <div className=\"container\">\n        <ItemTitle title=\"Containers\" actions={<CreateContainer />} />\n        <table className=\"table is-fullwidth is-hoverable\">\n          <tbody>\n            {containers.map(db => (\n              <Item\n                item={{ id: db, path: `${path}${db}/` }}\n                key={db}\n                icon={\"fas fa-archive\"}\n                setPath={Ctx.setPath}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport function CreateContainer(props) {\n  const [isActive, setActive] = useState(false);\n\n  return (\n    <React.Fragment>\n      <ModalAddContainer isActive={isActive} setActive={setActive} {...props} />\n      <button\n        className=\"button is-warning is-pulled-right\"\n        onClick={() => setActive(true)}\n      >\n        <span className=\"icon is-small\">\n          <i className=\"fas fa-plus\"></i>\n        </span>\n        <span>Create</span>\n      </button>\n    </React.Fragment>\n  );\n}\n\nfunction ModalAddContainer({ isActive, setActive }) {\n  const Ctx = useContext(TraversalContext);\n  const [isLoading, setLoading] = useState(false);\n  const [idField, setId] = useState(\"\");\n  const [error, setError] = useState(undefined);\n  const traversal = useContext(TraversalContext);\n\n  async function createContainer(ev) {\n    setLoading(true);\n    const data = {\n      \"@type\": \"Container\",\n      id: idField\n    };\n    try {\n      const res = await Ctx.client.createObject(Ctx.path, data);\n      const result = await res.json();\n      if (res.status === 200) {\n        Ctx.refresh();\n        setId(\"\");\n        setLoading(false);\n        setActive(false);\n        traversal.flash(\"Container created\", \"primary\");\n      } else {\n        setId(\"\");\n        setLoading(false);\n        setError(result.message);\n      }\n    } catch {\n      setError(\"Error-submitting-form\");\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Modal isActive={isActive} setActive={setActive}>\n      <Form onSubmit={createContainer} title=\"Add Container\" error={error}>\n        <Input\n          required\n          placeholder=\"Container Name\"\n          onChange={v => setId(v.target.value)}\n          value={idField}\n          loading={isLoading}\n          autofocus\n        />\n        <Button loading={isLoading}>Add Container</Button>\n      </Form>\n    </Modal>\n  );\n}\n","import React from \"react\";\nimport { TabsPanel } from \"../components/tabs\";\nimport { ContextToolbar } from \"../components/context_toolbar\";\nimport { PanelItems } from \"../components/panel/items\";\nimport { PanelAddons } from \"../components/panel/addons\";\nimport { TraversalContext } from \"../contexts\";\nimport { PanelNotImplemented } from \"./base\";\nimport { PanelPermissions } from \"../components/panel/permissions\";\nimport { PanelBehaviors } from \"../components/panel/behaviors\";\nimport { PanelRequester } from \"../components/panel/requester\";\n\nconst tabs = {\n  Items: PanelItems,\n  Addons: PanelAddons,\n  Registry: PanelNotImplemented,\n  Behaviors: PanelBehaviors,\n  Permissions: PanelPermissions,\n  Requester: PanelRequester\n};\n\nconst tabsPermissions = {\n  Items: \"guillotina.ViewContent\",\n  Addons: \"guillotina.ManageAddons\",\n  Registry: \"guillotina.ReadConfiguration\",\n  Behaviors: \"guillotina.ModifyContent\",\n  Permissions: \"guillotina.SeePermissions\",\n  Requester: \"guillotina.swagger.View\"\n};\n\nexport function ContainerCtx(props) {\n  const ctx = React.useContext(TraversalContext);\n  const calculated = ctx.filterTabs(tabs, tabsPermissions);\n  return (\n    <TabsPanel\n      tabs={calculated}\n      currentTab=\"Items\"\n      rightToolbar={<ContextToolbar {...props} />}\n      {...props}\n    />\n  );\n}\n","import React from \"react\";\n\nexport function PanelNotImplemented(props) {\n  return (\n    <div className=\"container\">\n      <h2 className=\"title\">{props.title}</h2>\n      <p>Not implemented</p>\n    </div>\n  );\n}\n","import React from 'react'\nimport {FormBuilder} from '../components/input/form_builder'\n\nconst schema = {\n  \"type\": \"object\",\n  \"required\": [\n    \"username\",\n    \"password\",\n  ],\n  \"properties\": {\n    \"username\": {\n      \"type\": \"string\",\n      \"title\": \"Username\"\n    },\n    \"email\": {\n      \"type\": \"string\",\n      \"title\": \"Email\",\n      \"widget\": \"email\"\n    },\n    \"name\": {\n      \"type\": \"string\",\n      \"title\": \"Name\"\n    },\n    \"password\": {\n      \"type\": \"string\",\n      \"title\": \"Password\",\n      \"widget\": \"password\"\n    },\n    \"disabled\": {\n      \"type\": \"boolean\",\n      \"title\": \"Disabled\"\n    }\n  }\n}\n\nexport const UserForm = ({isEdit=false, children, ...props}) => {\n\n  const attr = (isEdit) ? {} : {\"title\": \"Add User\"}\n\n  return (\n      <FormBuilder\n          schema={schema}\n          {...props}\n          {...attr}\n          >\n        {children}\n      </FormBuilder>\n  )\n}\n\n","import React from \"react\";\n\n/*\n  This hook allows to bind (remote) fields on the DOM\n  to a form generated with Formbuilder.\n  You can link whatever field you want...\n\n  const [remoteFields, updateRemoteField] = useRemoteField({widget_1: ['a', 'b']})\n\n  <Form remotes={remoteFields} onSubmit={ev => console.log(ev)}>\n    <Input />\n  </Form>\n\n  <Widget onChange={updateRemoteField('widgte_1')}>\n\n  This will add the values from a remote field into the desired widget\n\n*/\n\nexport const useRemoteField = initial => {\n  const [remotes, setRemote] = React.useState(initial);\n\n  const updateRemote = name => value => {\n    setRemote({\n      ...remotes,\n      [name]: value\n    });\n  };\n\n  return [remotes, updateRemote];\n};\n","import React from \"react\";\nimport { TabsPanel } from \"../components/tabs\";\nimport { PanelItems } from \"../components/panel/items\";\nimport { TraversalContext } from \"../contexts\";\nimport { UserForm } from \"../forms/users\";\nimport { formatDate } from \"../lib/utils\";\nimport { useCrudContext } from \"../hooks/useCrudContext\";\nimport { TagsWidget } from \"../components/widgets/tags\";\nimport { Icon } from \"../components/ui/icon\";\nimport { Button } from \"../components/input/button\";\nimport { useRemoteField } from \"../hooks/useRemoteField\";\n\nconst tabs = {\n  Users: PanelItems\n};\n\nexport function UsersToolbar(props) {\n  const Ctx = React.useContext(TraversalContext);\n\n  return (\n    <button\n      className=\"button is-primary\"\n      onClick={() => Ctx.doAction(\"addItem\", { type: \"User\" })}\n      aria-haspopup=\"true\"\n      aria-controls=\"dropdown-menu\"\n    >\n      <Icon icon=\"fas fa-user\" />\n      <span>Add a User</span>\n    </button>\n  );\n}\n\nexport function UsersCtx(props) {\n  return (\n    <TabsPanel\n      tabs={tabs}\n      currentTab=\"Users\"\n      rightToolbar={<UsersToolbar />}\n      {...props}\n    />\n  );\n}\n\nexport function UserCtx(props) {\n  const { Ctx, patch, loading, isError, errorMessage } = useCrudContext();\n\n  const [state, setState] = React.useState({ roles: [], gorups: [] });\n\n  const fields = {\n    user_groups: [],\n    user_roles: Ctx.context.user_roles\n  };\n\n  const [remotes, updateRemote] = useRemoteField(fields);\n\n  React.useEffect(() => {\n    (async () => {\n      const res = await Promise.all([\n        Ctx.client.search(Ctx.path, { type_name: \"Group\" }, true),\n        Ctx.client.getRoles(Ctx.path)\n      ]);\n      const groups = await res[0].json();\n      const roles = await res[1].json();\n      setState({\n        roles: roles,\n        groups: groups.member.map(item => ({\n          value: item.id,\n          text: item[\"@name\"]\n        }))\n      });\n    })();\n  }, []);\n\n  const updateObject = async data => {\n    Ctx.apply(data);\n    await patch(data);\n    if (isError) {\n      Ctx.flash(`Update failed ${errorMessage}`, \"danger\");\n    } else {\n      Ctx.flash(\"Data updated\", \"primary\");\n    }\n    Ctx.refresh();\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"title is-size-4\">\n        <Icon icon=\"fas fa-user\"></Icon>\n        &nbsp;User\n      </h2>\n\n      <hr />\n      <div className=\"columns\">\n        <div className=\"column\">\n          <div className=\"container user-props\">\n            <p>\n              <label>Username: </label> {Ctx.context.username} (\n              {Ctx.context.email})\n            </p>\n            <p>\n              <label> Created: </label> {formatDate(Ctx.context.creation_date)}\n            </p>\n            <p>\n              <label> Updated: </label>{\" \"}\n              {formatDate(Ctx.context.modification_date)}\n            </p>\n          </div>\n          <hr />\n          <UserForm\n            actionName=\"Save\"\n            onSubmit={ev => updateObject(ev)}\n            isEdit={true}\n            formData={Ctx.context}\n            exclude={[\"password\"]}\n            remotes={remotes}\n            submitButton={false}\n          >\n            <Button loading={loading}>Update</Button>\n          </UserForm>\n        </div>\n        <div className=\"column\">\n          <TagsWidget\n            onChange={updateRemote(\"user_groups\")}\n            items={Ctx.context.user_groups}\n            title=\"Groups\"\n            noData=\"There is no groups for this user\"\n            available={state.groups}\n          />\n          <hr />\n          <TagsWidget\n            onChange={updateRemote(\"user_roles\")}\n            items={remotes.user_roles}\n            title=\"Roles\"\n            noData=\"The user doesn't have any role\"\n            available={state.roles}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Input } from \"../components/input/input\";\nimport { Form } from \"../components/input/form\";\nimport { stringToSlug } from \"../lib/helpers\";\n\nexport function BaseForm({ onSubmit, actionName, title }) {\n  const [name, setName] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [error, setError] = useState(undefined);\n\n  const submit = values => {\n    if (name === \"\") {\n      setError(\"This field is required\");\n      return;\n    }\n    onSubmit({ title: name, id });\n  };\n\n  const setTitle = value => {\n    setId(stringToSlug(value));\n    setName(value);\n  };\n\n  return (\n    <Form title={title} onSubmit={submit}>\n      <Input\n        id=\"title\"\n        placeholder=\"Title\"\n        required\n        value={name}\n        onChange={setTitle}\n        autofocus\n        error={error}\n      />\n\n      <Input id=\"id\" placeholder=\"Id\" value={id} onChange={setId} />\n\n      <div className=\"level level-right\">\n        <button type=\"submit\" className=\"button is-success\">\n          {actionName || \"Add\"}\n        </button>\n      </div>\n    </Form>\n  );\n}\n","import React from \"react\";\nimport { TabsPanel } from \"../components/tabs\";\nimport { PanelItems } from \"../components/panel/items\";\nimport { TraversalContext } from \"../contexts\";\nimport { useCrudContext } from \"../hooks/useCrudContext\";\nimport { Icon } from \"../components/ui/icon\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Select } from \"../components/input/select\";\nimport { Tag } from \"../components/ui/tag\";\nimport { EditableField } from \"../components/fields/editableField\";\n\nconst tabs = {\n  Groups: PanelItems\n};\n\nexport function GroupToolbar(props) {\n  const Ctx = React.useContext(TraversalContext);\n\n  return (\n    <button\n      className=\"button is-primary\"\n      onClick={() => Ctx.doAction(\"addItem\", { type: \"Group\" })}\n      aria-haspopup=\"true\"\n      aria-controls=\"dropdown-menu\"\n    >\n      <Icon icon=\"fas fa-users\" />\n      <span>Add a Group</span>\n    </button>\n  );\n}\n\nexport function GroupsCtx(props) {\n  return (\n    <TabsPanel\n      tabs={tabs}\n      currentTab=\"Groups\"\n      rightToolbar={<GroupToolbar />}\n      {...props}\n    />\n  );\n}\n\nexport function GroupCtx(props) {\n  const { Ctx, patch } = useCrudContext();\n  const [roles, setRoles] = useState([]);\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const getUsers = Ctx.client.getUsers(Ctx.path);\n      const getRoles = Ctx.client.getRoles(Ctx.path);\n      const [req, req2] = await Promise.all([getUsers, getRoles]);\n      setRoles(\n        (await req2.json()).map(role => ({\n          text: role,\n          value: role\n        }))\n      );\n      setUsers(\n        (await req.json()).map(user => ({\n          text: user[\"@name\"],\n          value: user.id\n        }))\n      );\n    })();\n  }, []);\n\n  const addRole = async ev => {\n    const role = ev.target.value;\n    await patch({ user_roles: Ctx.context.user_roles.concat(role) });\n    Ctx.flash(`Role ${role} added to group`, \"success\");\n    Ctx.refresh();\n  };\n\n  const removeRole = async role => {\n    await patch({ user_roles: Ctx.context.user_roles.filter(r => r !== role) });\n    Ctx.flash(`Role ${role} removed from group`, \"success\");\n    Ctx.refresh();\n  };\n\n  const addUser = async ev => {\n    const user = ev.target.value;\n    await patch({ users: Ctx.context.users.concat(user) });\n    Ctx.flash(`User ${user} added to group!`, \"success\");\n    Ctx.refresh();\n  };\n\n  const removeUser = async user => {\n    await patch({ users: Ctx.context.users.filter(r => r !== user) });\n    Ctx.flash(`User ${user} removed from group`, \"success\");\n    Ctx.refresh();\n  };\n\n  return (\n    <div className=\"container group-view\">\n      <h2 className=\"title is-size-4\">\n        <Icon icon=\"fas fa-users\"></Icon>\n        <span>&nbsp;Group</span>\n      </h2>\n      <hr />\n      <div className=\"columns\">\n        <div className=\"column is-4\">\n          <label className=\"label\">Title: </label>\n          <EditableField field=\"title\" value={Ctx.context.title} />\n        </div>\n        <div className=\"column is-4 is-size-7\">\n          <h3 className=\"title is-size-6\">Roles</h3>\n          <p>Add a Role</p>\n          <Select\n            options={roles.filter(\n              role => !Ctx.context.user_roles.includes(role.value)\n            )}\n            appendDefault\n            resetOnChange\n            onChange={addRole}\n          />\n          <hr />\n          {Ctx.context.user_roles.map(urole => (\n            <p className=\"control\">\n              <Tag\n                name={urole}\n                onRemove={ev => removeRole(urole)}\n                size=\"is-small\"\n              />\n            </p>\n          ))}\n        </div>\n        <div className=\"column is-4 is-size-7\">\n          <h3 className=\"title is-size-6\">Users</h3>\n          <p>Add a User</p>\n          <Select\n            options={users.filter(\n              user => !Ctx.context.users.includes(user.value)\n            )}\n            appendDefault\n            onChange={addUser}\n          />\n          <hr />\n          {Ctx.context.users.map(user => (\n            <p className=\"control\">\n              <Tag\n                name={user}\n                onRemove={ev => removeUser(user)}\n                size=\"is-small\"\n              />\n            </p>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { FolderCtx } from \"../views/folder\";\nimport { ItemCtx } from \"../views/item\";\nimport { ApplicationCtx } from \"../views/application\";\nimport { DatabaseCtx } from \"../views/application\";\nimport { ContainerCtx } from \"../views/container\";\nimport { UsersCtx } from \"../views/users\";\nimport { UserCtx } from \"../views/users\";\nimport { RemoveItem } from \"../actions/remove_item\";\nimport { AddItem } from \"../actions/add_item\";\nimport { BaseForm } from \"../forms/base\";\nimport { UserForm } from \"../forms/users\";\nimport { IAttachment } from \"../components/behaviors/iattachment\";\nimport { IDublinCore } from \"../components/behaviors/idublincore\";\nimport { IMultiAttachment } from \"../components/behaviors/imultiattachment\";\nimport { GroupsCtx } from \"../views/groups\";\nimport { GroupCtx } from \"../views/groups\"\n\n\nlet registry = {\n  paths: {},\n  views: {\n    Application: ApplicationCtx,\n    Database: DatabaseCtx,\n    Container: ContainerCtx,\n    UserManager: UsersCtx,\n    User: UserCtx,\n    Group: GroupCtx,\n    GroupManager: GroupsCtx,\n    Folder: FolderCtx,\n    Item: ItemCtx\n  },\n  actions: {\n    removeItem: RemoveItem,\n    addItem: AddItem\n  },\n  forms: {\n    UserManager: BaseForm,\n    GroupManager: BaseForm,\n    Folder: BaseForm,\n    Item: BaseForm,\n    User: UserForm,\n    Group: BaseForm\n  },\n  behaviors: {\n    \"guillotina.behaviors.dublincore.IDublinCore\": IDublinCore,\n    \"guillotina.behaviors.attachment.IAttachment\": IAttachment,\n    \"guillotina.behaviors.attachment.IMultiAttachment\": IMultiAttachment,\n  },\n  schemas: {\n\n  }\n};\n\nconst get = (key, param, fallback) => {\n  if (registry[key]) return registry[key][param] || fallback;\n  return fallback;\n};\n\nconst getComponent = (context, path, fallback) => {\n  if (!context) return;\n  // lookup by path\n  if (registry.paths[path]) {\n    return registry.paths[path];\n  }\n  // by type\n  if (registry.views[context[\"@type\"]]) {\n    return registry.views[context[\"@type\"]];\n  }\n  if (fallback) {\n    return fallback;\n  }\n  return defaultComponent(context);\n};\n\nconst getForm = (type, fallback=BaseForm) => {\n  return registry.forms[type] || fallback;\n};\n\nconst getAction = (type, fallback) => {\n  return registry.actions[type] || fallback;\n};\n\nconst getBehavior = (type, fallback) => {\n  return registry.behaviors[type] || fallback;\n};\n\nexport const defaultComponent = context => {\n  return context.is_folderish ? FolderCtx : ItemCtx;\n};\n\nexport function useRegistry(data) {\n  // if data is provided we need to merge it into actual registry\n  if (data) {\n    Object.keys(data).map(\n      key => (registry[key] = { ...registry[key], ...data[key] })\n    );\n  }\n\n  return {\n    registry,\n    get,\n    getForm,\n    getComponent,\n    getAction,\n    getBehavior\n  };\n}\n\n/*\n\nconst registry = {\n  paths: {\n    \"/db/guillotina/tags/\": TagsContext\n  },\n  forms: {\n    Tag: AddTagForm\n  }\n}\n\n\n<guillotina registry={registry} />\n\n\n*/\n","import React from 'react'\nimport {Confirm} from '../components/modal'\nimport {useContext} from 'react'\nimport {TraversalContext} from '../contexts'\n\n\nexport function RemoveItem(props) {\n\n  const Ctx = useContext(TraversalContext)\n  const {item} = props\n\n  async function removeItem() {\n    await Ctx.client.delete(item[\"@id\"])\n    Ctx.flash(`Item ${item[\"@name\"]} removed!`, 'success')\n    Ctx.refresh()\n    Ctx.cancelAction() // hide the modal\n  }\n\n  return (\n    <Confirm\n      onCancel={() => Ctx.cancelAction()}\n      onConfirm={() => removeItem()}\n      message={\"Are you sure to remove: \" + item[\"@name\"] + \"?\"}\n    />\n  )\n\n}\n","import React from \"react\";\nimport { useContext } from \"react\";\nimport { TraversalContext } from \"../contexts\";\nimport { Modal } from \"../components/modal\";\n\nexport function AddItem(props) {\n\n  const Ctx = useContext(TraversalContext);\n  const { type } = props;\n  const { getForm } = Ctx.registry;\n\n  const Form = getForm(type);\n\n  const setActive = () => {\n    Ctx.cancelAction();\n  };\n\n  async function doSubmit(data, oldData) {\n    const form = Object.assign(\n      {},\n      { \"@type\": type },\n      data.formData ? data.formData : data\n    );\n    const client = Ctx.client;\n    const res = await client.create(Ctx.path, form);\n    Ctx.flash(\"Content created!\", \"success\");\n    Ctx.cancelAction();\n    Ctx.refresh();\n  }\n\n  return (\n    <Modal isActive={true} setActive={setActive}>\n      <Form\n        onSubmit={doSubmit}\n        onError={err => console.log(err)}\n        actionName={\"Add \" + type}\n        title={\"Add \" + type}\n        type={type}\n      />\n    </Modal>\n  );\n}\n","import React from \"react\";\nimport { TraversalContext } from \"../../contexts\";\nimport { FileUpload } from \"../input/upload\";\nimport { Button } from \"../input/button\";\n\n\nexport function IAttachment(props) {\n  const ctx = React.useContext(TraversalContext);\n  const canModify = ctx.hasPerm(\"guillotina.ModifyContent\");\n\n\n  const uploadFile = async file => {\n    const endpoint = `${ctx.path}@upload/file`;\n    const req = await ctx.client.upload(endpoint, file);\n    if (req.status !== 200) {\n      ctx.flash(\"Failed to upload file\", \"error\")\n      return\n    }\n    ctx.flash(\"file uploaded\", \"success\")\n    ctx.refresh();\n  };\n\n  const downloadFile = (file, content_type) => async event => {\n    const endpoint = `${ctx.path}@download/file`;\n    const res = await ctx.client.download(endpoint);\n    const text = await res.blob();\n    const blob = new Blob([text], {\n      type: content_type\n    });\n    const url = window.URL.createObjectURL(blob);\n\n    // Create blob link to download\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", `${file.filename}`);\n    document.body.appendChild(link);\n    link.click();\n    link.parentNode.removeChild(link);\n  };\n\n  return (\n    <tr>\n      <td>\n        {!props.file && \"undefined\"}\n        {props.file && (\n          <React.Fragment>\n            {props.file.filename} / {props.file.content_type} ({props.file.size}\n            )<br />\n            <Button\n              onClick={downloadFile(props.file, props.file.content_type)}\n              className=\"is-small\"\n            >\n              Download\n            </Button>\n          </React.Fragment>\n        )}\n      </td>\n      <td>{canModify && <FileUpload onChange={uploadFile} />}</td>\n    </tr>\n  );\n}\n\n\n","import React from \"react\";\nimport { Input } from \"../input/input\";\nimport { FileUpload } from \"../input/upload\";\nimport { Button } from \"../input/button\";\nimport {useState} from 'react'\nimport { useCrudContext } from \"../../hooks/useCrudContext\";\nimport ErrorZone from '../error_zone'\n\nexport function IMultiAttachment(props) {\n\n  const [fileKey, setFileKey] = useState('')\n  const [file, setFile] = useState()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(undefined)\n  const {Ctx } = useCrudContext()\n\n  const uploadFile = async (ev) => {\n    ev.preventDefault()\n    if (!fileKey && !file) {\n      setError(\"Provide a file and a key name\")\n      return\n    }\n    setLoading(true)\n    setError(undefined)\n    const endpoint = `${Ctx.path}@upload/files/${fileKey}`;\n    const req = await Ctx.client.upload(endpoint, file)\n    if (req.status !== 200) {\n      setError(\"Failed to upload file\")\n      return\n    }\n    setFileKey('')\n    setFile(undefined)\n    setLoading(false)\n    Ctx.flash(`${fileKey} uploaded!`, 'success')\n    Ctx.refresh()\n  }\n\n  const downloadFile = (file, content_type, fileName) => async event => {\n    const endpoint = `${Ctx.path}@download/files/${file}`;\n    const res = await Ctx.client.download(endpoint);\n    const text = await res.blob();\n    const blob = new Blob([text], {\n      type: content_type\n    });\n    const url = window.URL.createObjectURL(blob);\n\n    // Create blob link to download\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", `${fileName}`);\n    document.body.appendChild(link);\n    link.click();\n    link.parentNode.removeChild(link);\n  };\n\n  return (\n    <React.Fragment>\n      {Object.keys(props.files).map(file => (\n        <tr key={file}>\n          <td>{file}</td>\n          <td>\n            {props.files[file].filename} / ({props.files[file].content_type})\n            &nbsp;\n            <Button\n              className=\"is-small\"\n              onClick={downloadFile(\n                file,\n                props.files[file].content_type,\n                props.files[file].filename\n                )}\n            >\n              Download\n            </Button>\n          </td>\n        </tr>\n      ))}\n      {Object.keys(props.files).length === 0 && (\n        <tr>\n          <td colSpan={2}>No files uploaded</td>\n        </tr>\n      )}\n      <tr>\n        <td colSpan={2}>\n          <label className=\"label\">Upload a file</label>\n          <form className=\"columns\">\n            <div className=\"column is-4\">\n              <Input\n                placeholder=\"Key\"\n                name=\"field\"\n                className=\"is-small\"\n                value={fileKey}\n                onChange={(ev) => setFileKey(ev)}\n              />\n              {error && <ErrorZone>{error}</ErrorZone>}\n            </div>\n            <div className=\"column is-2\">\n              <FileUpload\n                onChange={(ev) => setFile(ev)}\n                />\n              {file && file.filename}\n            </div>\n            <div className=\"column is-2\">\n              <Button className=\"is-primary is-small\"\n                loading={loading}\n                onClick={uploadFile}\n                disabled={(!fileKey && !file)}>Upload</Button>\n            </div>\n          </form>\n        </td>\n      </tr>\n    </React.Fragment>\n  );\n}\n","\nexport const initialState = {\n  path: \"\",\n  context: undefined,\n  flash: {\n    message: undefined,\n    type: undefined\n  },\n  action: {\n    action: undefined,\n    params: undefined\n  },\n  permissions: undefined,\n  errorStatus: undefined,\n  registry: {},\n  refresh: undefined\n};\n\n\nexport function guillotinaReducer(state, action) {\n  switch (action.type) {\n    case \"SET_PATH\":\n      return { ...state, path: action.payload };\n\n    case \"SET_CONTEXT\":\n      return { ...state, ...action.payload, errorStatus:undefined };\n\n    case \"SET_ERROR\":\n      return { ...state, errorStatus: action.payload };\n\n    case \"SET_FLASH\":\n      return { ...state, ...action.payload };\n\n    case \"CLEAR_FLASH\":\n      return {\n        ...state,\n        flash: {\n          message: undefined,\n          type: undefined\n        }\n      };\n    case \"SET_ACTION\":\n      return { ...state, action: action.payload };\n    case \"CLEAR_ACTION\":\n      return { ...state, action: { action: undefined, params: undefined } };\n\n    case \"REFRESH\":\n      return {...state, refresh:Math.random()}\n\n    case \"APPLY\":\n      return {...state, context: {...state.context, ...action.payload}}\n\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport { useReducer } from \"react\";\nimport { useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport { getClient } from \"../lib/client\";\nimport { Flash } from \"./flash\";\nimport { TraversalProvider } from \"../contexts\";\nimport { Path } from \"./path\";\nimport { NotAllowed } from \"./notallowed\";\nimport { NotFound } from \"./notfound\";\nimport { Permissions } from \"../models\";\nimport { useConfig } from \"../hooks/useConfig\";\nimport { useRegistry } from \"../hooks/useRegistry\";\nimport { useLocation } from \"../hooks/useLocation\";\nimport { guillotinaReducer } from \"../reducers/guillotina\";\nimport { initialState } from \"../reducers/guillotina\";\n\nexport function Guillotina({ auth, ...props }) {\n  const url = props.url || \"http://localhost:8080\"; // without trailing slash\n\n  // Will hold client instance\n  const ref = useRef();\n\n  useConfig(props.config || {});\n  const registry = useRegistry(props.registry || {});\n  // Location is cooked routing solution (only uses search params)\n  const [location, setRouterParam] = useLocation();\n\n  // if there is no path provided just go to root\n  const searchPath = location.get(\"path\") || \"/\";\n  if (searchPath && searchPath !== \"\") {\n    initialState.path = searchPath;\n  }\n\n  const [state, dispatch] = useReducer(guillotinaReducer, initialState);\n\n  // we store the client on a ref (refs are stable across renders)\n  if (!ref.current) {\n    ref.current = getClient(url, auth);\n  }\n\n  const { path, refresh } = state;\n  const client = ref.current;\n\n  useEffect(() => {\n    dispatch({ type: \"SET_PATH\", payload: searchPath });\n  }, [searchPath]);\n\n  useEffect(() => {\n    (async () => {\n      let data = await client.getContext(path);\n      if (data.status === 401) {\n        dispatch({ type: \"SET_ERROR\", payload: \"notallowed\" });\n        return;\n      } else if (data.status === 404) {\n        dispatch({ type: \"SET_ERROR\", payload: \"notfound\" });\n        return;\n      }\n      let context = await data.json();\n      const pr = await client.canido(path, Permissions);\n      const permissions = await pr.json();\n      dispatch({ type: \"SET_CONTEXT\", payload: { context, permissions } });\n    })();\n  }, [path, refresh, client]);\n\n  const contextData = {\n    url,\n    client,\n    auth,\n    state,\n    dispatch,\n    registry,\n    setRouterParam\n  };\n\n  const { action, errorStatus, permissions } = state;\n  const Main = registry.getComponent(state.context);\n  const Action = action.action ? registry.getAction(action.action) : null;\n\n  return (\n    <React.Fragment>\n      {!errorStatus && (\n        <TraversalProvider {...contextData}>\n          {permissions && (\n            <React.Fragment>\n              {action.action && <Action {...action.params} />}\n              <div className=\"level\">\n                <div className=\"level-left\">\n                  <div className=\"level-item\">\n                    <Path />\n                  </div>\n                </div>\n              </div>\n              <Flash />\n              {Main && (\n                <div className=\"box main-panel\">\n                  <Main state={state} />\n                </div>\n              )}\n              {/* <p>Guillotina {JSON.stringify(state.context)}</p> */}\n            </React.Fragment>\n          )}\n        </TraversalProvider>\n      )}\n      {errorStatus === \"notallowed\" && <NotAllowed />}\n      {errorStatus === \"notfound\" && <NotFound />}\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { Icon } from \"./ui/icon\";\n\nexport function Layout({ children, onLogout, auth }) {\n  const doLogout = ev => {\n    auth.logout();\n    onLogout();\n  };\n\n  return (\n    <React.Fragment>\n      <header>\n        <nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n          <div className=\"navbar-brand\">\n            <a className=\"navbar-item\" href=\"/\">\n              <img\n                src={process.env.PUBLIC_URL + \"/logo.svg\"}\n                alt=\"Guillotina logo\"\n                height=\"80\"\n              />\n            </a>\n            <a\n              id=\"burger\"\n              href=\"/\"\n              role=\"button\"\n              className=\"navbar-burger burger\"\n              aria-label=\"menu\"\n              aria-expanded=\"false\"\n              data-target=\"navbarmenu\"\n            >\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n            </a>\n          </div>\n          <div id=\"navbarmenu\" className=\"navbar-menu\">\n            <div className=\"navbar-start\"></div>\n            <div className=\"navbar-end\">\n              <div className=\"navbar-item\">\n                {auth.isLogged && (\n                  <div className=\"buttons\">\n                    <button className=\"button is-size-7\" onClick={doLogout}>\n                      <Icon icon=\"fas fa-sign-out-alt\" size=\"is-size-7\" />\n                      <span>Logout</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </nav>\n      </header>\n      <section className=\"section main\">\n        <div className=\"container\">\n          <div className=\"column\">{children}</div>\n        </div>\n      </section>\n    </React.Fragment>\n  );\n}\n","\nimport React from 'react';\nimport {Component} from 'react';\nimport linkState from 'linkstate';\n\nconst ERRORS = {\n  \"failed_to_fetch\": \"Failed to fetch data: Backend not running?\",\n  \"invalid_credentials\": \"Failed! Invalid credentials\"\n}\n\nexport class Login extends Component {\n\n    state = {\n        username: '',\n        password: '',\n        loading: undefined,\n        schema: '',\n        errors: undefined\n    }\n\n    constructor(props) {\n      super(props)\n      if (props.schemas) {\n        this.state.schema = props.schemas[0]\n      }\n    }\n\n    ref = React.createRef()\n\n    doLogin = async (ev) => {\n        ev.preventDefault()\n        this.setState({loading:true, errors:undefined})\n        const {username, password, schema} = this.state;\n\n        if (schema !== '') {\n          this.props.auth.setAccount(schema)\n        }\n        const auth = this.props.auth\n        const res = await auth.login(username, password)\n\n        if (!res) {\n          this.setState({errors:auth.errors, loading:false})\n          return\n        }\n\n        if (this.props.onLogin) {\n          this.props.onLogin()\n        }\n    }\n\n    componentDidMount() {\n      this.ref.current.focus()\n    }\n\n    render() {\n      let {password, username, errors } = this.state\n      const {schemas} = this.props\n      return (\n        <React.Fragment>\n        <form className=\"login__form\" action=\"\" onSubmit={this.doLogin}>\n          <div className=\"field\">\n            <label className=\"label\">Username:</label>\n              <input type=\"text\" className=\"input\"\n                placeholder=\"Username\"\n                onChange={linkState(this, 'username')}\n                value={username}\n                ref={this.ref}\n                />\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Password:</label>\n              <input type=\"password\" className=\"input\"\n                onChange={linkState(this, 'password')}\n                value={password}\n                />\n          </div>\n          {schemas && <div className=\"field\">\n            <label className=\"label\">Schema:</label>\n            <div className=\"select\">\n              <select onChange={linkState(this, 'schema')}>\n              {schemas.map(s => <option value={s} key={s}>{s}</option>)}\n              </select>\n            </div>\n          </div>}\n          <div className=\"field\">\n            <button className=\"button is-warning\" type=\"submit\">Login</button>\n          </div>\n          <div className=\"field\">\n          {errors && <p className=\"has-text-danger\">{ERRORS[errors] || 'Generic error'}</p>}\n          </div>\n        </form>\n        </React.Fragment>\n      )\n    }\n}\n","\nimport jwt_decode from 'jwt-decode'\n\nconst noop = () => {}\n\nexport class Auth {\n\n  maxRetry = 1\n  retryRefresh = 0\n  events = {}\n\n  constructor(url) {\n    this.url = url\n    this.base_url = url\n    this.errors = undefined\n  }\n\n  getUrl(endpoint) {\n    return `${this.url}${endpoint}`\n  }\n\n  setAccount(account) {\n    this.url = this.base_url + account\n  }\n\n  async login(username, password) {\n    const url = this.getUrl('@login')\n    try {\n      const data = await fetch(url, {\n        method: 'post',\n        body: JSON.stringify({\n          username: username,\n          password:password\n        })\n      })\n      if (data.status === 200) {\n        const credentials = await data.json()\n        this.storeAuth(credentials, username)\n        return true\n      } else {\n        this.errors = \"invalid_credentials\"\n      }\n    } catch (e) {\n      this.errors = \"failed_to_fetch\"\n      return false\n    }\n    localStorage.removeItem('auth');\n    localStorage.removeItem('auth_expires');\n    return false\n  }\n\n  get isLogged() {\n    if (typeof localStorage === 'undefined') {\n      return false\n    }\n    const [token, expires] = this._getToken()\n    if (!token || !expires) {\n      return false\n    }\n    if (this.isExpired(expires)) {\n        return false\n    }\n    return true\n  }\n\n  get username() {\n    if (typeof localStorage === 'undefined') {\n      return false\n    }\n    const [token] = this._getToken()\n    const data = jwt_decode(token)\n    console.log(token)\n    return data.id\n  }\n\n  storeAuth(data) {\n    localStorage.setItem('auth', data.token)\n    localStorage.setItem('auth_expires', data.exp);\n  }\n\n  cleanAuth() {\n    localStorage.removeItem(\"auth\")\n    localStorage.removeItem(\"auth_expires\")\n  }\n\n  logout() {\n    this.cleanAuth()\n  }\n\n  async refreshToken() {\n    console.log(\"refresh!!!\")\n    this.retryRefresh++\n    let data = await fetch(this.getUrl('@login-renew'), {\n      headers: this.getHeaders(),\n      method: 'post',\n    })\n    if (data.status === 401) {\n      // invalid token\n      this.cleanAuth()\n      this.onLogout()\n      return\n    }\n    const res = await data.json()\n    console.log(\"refresh data\", res)\n    this.storeAuth(res)\n    console.log(\"token refreshed\")\n    this.retryRefresh = 0\n    return data.token\n  }\n\n  willExpire(expiration) {\n    let now = new Date().getTime()\n    if ((parseInt(expiration)*1000)  < (now + 10*1000)) {\n      return true\n    }\n    return false\n  }\n\n  isExpired(expiration) {\n    let now = new Date().getTime()\n    if (parseInt(expiration)*1000 > now) {\n      return false\n    }\n    return true\n  }\n\n  _getToken() {\n    return [\n      localStorage.getItem('auth'),\n      localStorage.getItem('auth_expires')\n    ]\n  }\n\n  getHeaders() {\n    const [authToken, expires]  = this._getToken()\n    if (!authToken) return false;\n\n    if (this.willExpire(expires) && this.retryRefresh < this.maxRetry) {\n      (async () => await this.refreshToken())()\n    }\n\n    return {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + authToken\n    }\n  }\n\n}\n\n\n","import React from 'react';\nimport {Layout} from './guillo-gmi'\nimport {Auth} from './guillo-gmi'\nimport {Guillotina} from './guillo-gmi'\nimport {Login} from './guillo-gmi'\nimport {useState} from 'react'\nimport './guillo-gmi/scss/styles.sass'\n\n/*\n\nThis should be enought to scope guillotina\nto a container\n\n\nSchemas should be passed to the login form\n\n\nconst schemas = [\n  \"\",\n  \"db/guillotina/\",\n  \"db/crawler/\",\n]\n*/\n\nlet url = 'http://localhost:8080/'\nif (process.env.NODE_ENV !== 'production') {\n  url = '/'\n}\n\nconst auth = new Auth(url)\n\nfunction App() {\n\n  const [isLogged, setLogged] = useState(auth.isLogged)\n\n  const onLogin = () => {\n    setLogged(true)\n  }\n  const onLogout = () => setLogged(false)\n\n  auth.onLogout = onLogout\n\n  return (\n\n      <Layout auth={auth} onLogout={onLogout}>\n        { isLogged && <Guillotina auth={auth} url={url} />}\n        { !isLogged && (\n          <div className=\"columns is-centered\">\n            <div className=\"columns is-half\">\n              <Login onLogin={onLogin} auth={auth} />\n            </div>\n          </div>\n        )}\n      </Layout>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}